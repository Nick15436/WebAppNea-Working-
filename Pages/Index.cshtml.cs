using System.Text.Json;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;
using System.IO;
using System.Reflection.Emit;
using Microsoft.ML;
using Microsoft.ML.Data;

namespace WebAppNea.Pages;

public class IndexModel : PageModel
{
    private readonly Supabase.Client _supabase;
    private readonly ILogger<IndexModel> _logger;
    private readonly HttpClient _httpClient;
    public string CandlesData;
    public string LabelsData;
    public bool ApiDataIsNull;
    
    public string CurrentPrediction { get; set; }
    public string ActiveTicker { get; set; }
    
    public string ClassificationLabel { get; set; }
    public string[] ClassificationScores { get; set; }
    
    public string LoggedInUsername { get; set; }

    public IndexModel(ILogger<IndexModel> logger, HttpClient httpClient, Supabase.Client supabase)
    {
        _logger = logger;
        _httpClient = httpClient;
        _supabase = supabase;
    }
    
    
    // This method is used as the login handler:
    public async Task<IActionResult> OnPostLoginAsync(string email, string password)
    {
        try
        {
            // Attempt to log in with Supabase
            var session = await _supabase.Auth.SignIn(email, password);
        
            // Save the access token to the Session (Memory) so the user stays logged in
            if (session != null && session.AccessToken != null)
            {
                HttpContext.Session.SetString("SupabaseToken", session.AccessToken);
                HttpContext.Session.SetString("SupabaseRefreshToken", session.RefreshToken);
            }
        }
        catch (Exception ex)
        {
            _logger.LogError(ex.Message);
            TempData["ErrorMessage"] = "Error: " + ex.Message;
        }

        return RedirectToPage(); // Refresh the page
    }
    
    // This method is used as the Sign-Up Handler:
    public async Task<IActionResult> OnPostSignUpAsync(string username, string email, string password)
    {
        try
        {
            // Prepare the User Data (Username)
            var options = new Supabase.Gotrue.SignUpOptions
            {
                Data = new Dictionary<string, object>
                {
                    { "username", username } 
                }
            };

            // Create the user
            var session = await _supabase.Auth.SignUp(email, password, options);
            
            if (session != null && session.AccessToken != null)
            {
                // Save to session memory
                HttpContext.Session.SetString("SupabaseToken", session.AccessToken);
                HttpContext.Session.SetString("SupabaseRefreshToken", session.RefreshToken);
                
                await _supabase.Auth.SetSession(session.AccessToken, session.RefreshToken);
            }
        }
        catch (Exception ex)
        {
            _logger.LogError(ex.Message);
            TempData["ErrorMessage"] = "Signup Error: " + ex.Message;
        }

        return RedirectToPage();
    }
    
    // This method is used as the logout handler:
    public IActionResult OnPostLogout()
    {
        // Clear the session
        HttpContext.Session.Remove("SupabaseToken");
        _supabase.Auth.SignOut();
        return RedirectToPage();
    }
    
    
    // This method is used as the ticker search handler:
    public async Task<IActionResult> OnGetSearchTickerAsync(string query)
    {
        if (string.IsNullOrEmpty(query)) return new JsonResult(new List<object>());

        // Getting the API Key
        using StreamReader reader = new("API_KEY");
        string apiKey = await reader.ReadToEndAsync();

        // Call the AlphaVantage ticker search utility
        string url = $"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords={query}&apikey={apiKey}";
        var response = await _httpClient.GetAsync(url);
        var content = await response.Content.ReadAsStringAsync();

        // Convert JSON to C# and send it to the front end code
        var searchResult = JsonSerializer.Deserialize<TickerSearchResponse>(content);
        return new JsonResult(searchResult?.BestMatches ?? new List<TickerMatch>());
    }
    
    //This method is used as the add handler for the ticker menu:
    public async Task<IActionResult> OnPostAddTickerAsync(string symbol)
    {
        // Get the current user
        var token = HttpContext.Session.GetString("SupabaseToken");
        var refreshToken = HttpContext.Session.GetString("SupabaseRefreshToken");
    
        if (token != null && refreshToken != null)
        {
            await _supabase.Auth.SetSession(token, refreshToken);
            var userId = _supabase.Auth.CurrentUser.Id;

            // Get Profile
            var profile = await _supabase.From<UserProfile>().Where(x => x.Id == userId).Single();

            // Add Ticker if it doesn't exist
            if (profile != null && !profile.FavoriteTickers.Contains(symbol))
            {
                profile.FavoriteTickers.Add(symbol);
                await _supabase.From<UserProfile>().Update(profile);
            }
        }
        return RedirectToPage(new { ActiveTickerticker = symbol }); // Reload page with new ticker
    }
    
    
    //This method is used as the remove handler for the ticker menu:
    public async Task<IActionResult> OnPostRemoveTickerAsync(string symbol)
    {
        var token = HttpContext.Session.GetString("SupabaseToken");
        var refreshToken = HttpContext.Session.GetString("SupabaseRefreshToken");

        if (token != null && refreshToken != null)
        {
            await _supabase.Auth.SetSession(token, refreshToken);
            var userId = _supabase.Auth.CurrentUser.Id;

            var profile = await _supabase.From<UserProfile>().Where(x => x.Id == userId).Single();

            if (profile != null && profile.FavoriteTickers.Contains(symbol))
            {
                profile.FavoriteTickers.Remove(symbol);
                await _supabase.From<UserProfile>().Update(profile);
            }
        }
        return RedirectToPage();
    }

    public async Task OnGet( string prediction = "No Prediction", string ticker = "AAPL")
    {
        
        //  This code checks for a session?
        var token = HttpContext.Session.GetString("SupabaseToken");
        var refreshToken = HttpContext.Session.GetString("SupabaseRefreshToken");

        // Ensures both tokens are available before trying to set the session
        if (!string.IsNullOrEmpty(token) && !string.IsNullOrEmpty(refreshToken))
        {
            try 
            {
                await _supabase.Auth.SetSession(token, refreshToken);
                
                if (_supabase.Auth.CurrentUser != null)
                {
                    var userId = _supabase.Auth.CurrentUser.Id;
                    var profile = await _supabase
                        .From<UserProfile>()
                        .Where(x => x.Id == userId)
                        .Single();
                
                    if (profile != null) 
                    {
                        if (!Request.Query.ContainsKey("ticker"))
                        {
                            ticker = profile.DefaultTicker ?? ticker;
                        }

                        LoggedInUsername = profile.Username;
                        ViewData["FavoriteTickers"] = profile.FavoriteTickers;
                    }
                }
            }
            catch 
            {
                // Token expired or invalid
                HttpContext.Session.Remove("SupabaseToken");
                HttpContext.Session.Remove("SupabaseRefreshToken");
            }
        }
        
        
        
        

        CurrentPrediction = prediction;
        ActiveTicker = ticker;
        
        try
        {
            
            
            // Open the text file using a stream reader.
            using StreamReader reader = new("API_KEY");
            
            // Read the stream as a string.
            string apiKey = reader.ReadToEnd();

            
            string url = $"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY_ADJUSTED&symbol={ticker}&apikey={apiKey}";

           

            HttpResponseMessage response = _httpClient
                .GetAsync(url)
                .ConfigureAwait(false)
                .GetAwaiter()
                .GetResult();

            
            //Reads entire response and converts it to string
           string responseContent = response.Content.ReadAsStringAsync().ConfigureAwait(false).GetAwaiter().GetResult();
           _logger.LogInformation(responseContent);
           _logger.LogInformation(response.StatusCode.ToString());
          // System.IO.File.WriteAllText("response.txt", responseContent);

          ApiData apiData;  
          
          try
          {
              // deserialises, meaning converts JSON to C# objects, which are easy to access
              apiData = JsonSerializer.Deserialize<ApiData>(responseContent);
          }
          catch
          {
             responseContent = System.IO.File.ReadAllText("response.txt");
             apiData = JsonSerializer.Deserialize<ApiData>(responseContent);
          }

          

           if (apiData.TimeSeries == null)
           {
               ApiDataIsNull = true;
               
               LabelsData = """["1999-11-12","1999-11-19","1999-11-26","1999-12-03","1999-12-10","1999-12-17","1999-12-23","1999-12-31","2000-01-07","2000-01-14","2000-01-21","2000-01-28","2000-02-04","2000-02-11","2000-02-18","2000-02-25","2000-03-03","2000-03-10","2000-03-17","2000-03-24","2000-03-31","2000-04-07","2000-04-14","2000-04-20","2000-04-28","2000-05-05","2000-05-12","2000-05-19","2000-05-26","2000-06-02","2000-06-09","2000-06-16","2000-06-23","2000-06-30","2000-07-07","2000-07-14","2000-07-21","2000-07-28","2000-08-04","2000-08-11","2000-08-18","2000-08-25","2000-09-01","2000-09-08","2000-09-15","2000-09-22","2000-09-29","2000-10-06","2000-10-13","2000-10-20","2000-10-27","2000-11-03","2000-11-10","2000-11-17","2000-11-24","2000-12-01","2000-12-08","2000-12-15","2000-12-22","2000-12-29","2001-01-05","2001-01-12","2001-01-19","2001-01-26","2001-02-02","2001-02-09","2001-02-16","2001-02-23","2001-03-02","2001-03-09","2001-03-16","2001-03-23","2001-03-30","2001-04-06","2001-04-12","2001-04-20","2001-04-27","2001-05-04","2001-05-11","2001-05-18","2001-05-25","2001-06-01","2001-06-08","2001-06-15","2001-06-22","2001-06-29","2001-07-06","2001-07-13","2001-07-20","2001-07-27","2001-08-03","2001-08-10","2001-08-17","2001-08-24","2001-08-31","2001-09-07","2001-09-10","2001-09-21","2001-09-28","2001-10-05","2001-10-12","2001-10-19","2001-10-26","2001-11-02","2001-11-09","2001-11-16","2001-11-23","2001-11-30","2001-12-07","2001-12-14","2001-12-21","2001-12-28","2002-01-04","2002-01-11","2002-01-18","2002-01-25","2002-02-01","2002-02-08","2002-02-15","2002-02-22","2002-03-01","2002-03-08","2002-03-15","2002-03-22","2002-03-28","2002-04-05","2002-04-12","2002-04-19","2002-04-26","2002-05-03","2002-05-10","2002-05-17","2002-05-24","2002-05-31","2002-06-07","2002-06-14","2002-06-21","2002-06-28","2002-07-05","2002-07-12","2002-07-19","2002-07-26","2002-08-02","2002-08-09","2002-08-16","2002-08-23","2002-08-30","2002-09-06","2002-09-13","2002-09-20","2002-09-27","2002-10-04","2002-10-11","2002-10-18","2002-10-25","2002-11-01","2002-11-08","2002-11-15","2002-11-22","2002-11-29","2002-12-06","2002-12-13","2002-12-20","2002-12-27","2003-01-03","2003-01-10","2003-01-17","2003-01-24","2003-01-31","2003-02-07","2003-02-14","2003-02-21","2003-02-28","2003-03-07","2003-03-14","2003-03-21","2003-03-28","2003-04-04","2003-04-11","2003-04-17","2003-04-25","2003-05-02","2003-05-09","2003-05-16","2003-05-23","2003-05-30","2003-06-06","2003-06-13","2003-06-20","2003-06-27","2003-07-03","2003-07-11","2003-07-18","2003-07-25","2003-08-01","2003-08-08","2003-08-15","2003-08-22","2003-08-29","2003-09-05","2003-09-12","2003-09-19","2003-09-26","2003-10-03","2003-10-10","2003-10-17","2003-10-24","2003-10-31","2003-11-07","2003-11-14","2003-11-21","2003-11-28","2003-12-05","2003-12-12","2003-12-19","2003-12-26","2004-01-02","2004-01-09","2004-01-16","2004-01-23","2004-01-30","2004-02-06","2004-02-13","2004-02-20","2004-02-27","2004-03-05","2004-03-12","2004-03-19","2004-03-26","2004-04-02","2004-04-08","2004-04-16","2004-04-23","2004-04-30","2004-05-07","2004-05-14","2004-05-21","2004-05-28","2004-06-04","2004-06-10","2004-06-18","2004-06-25","2004-07-02","2004-07-09","2004-07-16","2004-07-23","2004-07-30","2004-08-06","2004-08-13","2004-08-20","2004-08-27","2004-09-03","2004-09-10","2004-09-17","2004-09-24","2004-10-01","2004-10-08","2004-10-15","2004-10-22","2004-10-29","2004-11-05","2004-11-12","2004-11-19","2004-11-26","2004-12-03","2004-12-10","2004-12-17","2004-12-23","2004-12-31","2005-01-07","2005-01-14","2005-01-21","2005-01-28","2005-02-04","2005-02-11","2005-02-18","2005-02-25","2005-03-04","2005-03-11","2005-03-18","2005-03-24","2005-04-01","2005-04-08","2005-04-15","2005-04-22","2005-04-29","2005-05-06","2005-05-13","2005-05-20","2005-05-27","2005-06-03","2005-06-10","2005-06-17","2005-06-24","2005-07-01","2005-07-08","2005-07-15","2005-07-22","2005-07-29","2005-08-05","2005-08-12","2005-08-19","2005-08-26","2005-09-02","2005-09-09","2005-09-16","2005-09-23","2005-09-30","2005-10-07","2005-10-14","2005-10-21","2005-10-28","2005-11-04","2005-11-11","2005-11-18","2005-11-25","2005-12-02","2005-12-09","2005-12-16","2005-12-23","2005-12-30","2006-01-06","2006-01-13","2006-01-20","2006-01-27","2006-02-03","2006-02-10","2006-02-17","2006-02-24","2006-03-03","2006-03-10","2006-03-17","2006-03-24","2006-03-31","2006-04-07","2006-04-13","2006-04-21","2006-04-28","2006-05-05","2006-05-12","2006-05-19","2006-05-26","2006-06-02","2006-06-09","2006-06-16","2006-06-23","2006-06-30","2006-07-07","2006-07-14","2006-07-21","2006-07-28","2006-08-04","2006-08-11","2006-08-18","2006-08-25","2006-09-01","2006-09-08","2006-09-15","2006-09-22","2006-09-29","2006-10-06","2006-10-13","2006-10-20","2006-10-27","2006-11-03","2006-11-10","2006-11-17","2006-11-24","2006-12-01","2006-12-08","2006-12-15","2006-12-22","2006-12-29","2007-01-05","2007-01-12","2007-01-19","2007-01-26","2007-02-02","2007-02-09","2007-02-16","2007-02-23","2007-03-02","2007-03-09","2007-03-16","2007-03-23","2007-03-30","2007-04-05","2007-04-13","2007-04-20","2007-04-27","2007-05-04","2007-05-11","2007-05-18","2007-05-25","2007-06-01","2007-06-08","2007-06-15","2007-06-22","2007-06-29","2007-07-06","2007-07-13","2007-07-20","2007-07-27","2007-08-03","2007-08-10","2007-08-17","2007-08-24","2007-08-31","2007-09-07","2007-09-14","2007-09-21","2007-09-28","2007-10-05","2007-10-12","2007-10-19","2007-10-26","2007-11-02","2007-11-09","2007-11-16","2007-11-23","2007-11-30","2007-12-07","2007-12-14","2007-12-21","2007-12-28","2008-01-04","2008-01-11","2008-01-18","2008-01-25","2008-02-01","2008-02-08","2008-02-15","2008-02-22","2008-02-29","2008-03-07","2008-03-14","2008-03-20","2008-03-28","2008-04-04","2008-04-11","2008-04-18","2008-04-25","2008-05-02","2008-05-09","2008-05-16","2008-05-23","2008-05-30","2008-06-06","2008-06-13","2008-06-20","2008-06-27","2008-07-03","2008-07-11","2008-07-18","2008-07-25","2008-08-01","2008-08-08","2008-08-15","2008-08-22","2008-08-29","2008-09-05","2008-09-12","2008-09-19","2008-09-26","2008-10-03","2008-10-10","2008-10-17","2008-10-24","2008-10-31","2008-11-07","2008-11-14","2008-11-21","2008-11-28","2008-12-05","2008-12-12","2008-12-19","2008-12-26","2009-01-02","2009-01-09","2009-01-16","2009-01-23","2009-01-30","2009-02-06","2009-02-13","2009-02-20","2009-02-27","2009-03-06","2009-03-13","2009-03-20","2009-03-27","2009-04-03","2009-04-09","2009-04-17","2009-04-24","2009-05-01","2009-05-08","2009-05-15","2009-05-22","2009-05-29","2009-06-05","2009-06-12","2009-06-19","2009-06-26","2009-07-02","2009-07-10","2009-07-17","2009-07-24","2009-07-31","2009-08-07","2009-08-14","2009-08-21","2009-08-28","2009-09-04","2009-09-11","2009-09-18","2009-09-25","2009-10-02","2009-10-09","2009-10-16","2009-10-23","2009-10-30","2009-11-06","2009-11-13","2009-11-20","2009-11-27","2009-12-04","2009-12-11","2009-12-18","2009-12-24","2009-12-31","2010-01-08","2010-01-15","2010-01-22","2010-01-29","2010-02-05","2010-02-12","2010-02-19","2010-02-26","2010-03-05","2010-03-12","2010-03-19","2010-03-26","2010-04-01","2010-04-09","2010-04-16","2010-04-23","2010-04-30","2010-05-07","2010-05-14","2010-05-21","2010-05-28","2010-06-04","2010-06-11","2010-06-18","2010-06-25","2010-07-02","2010-07-09","2010-07-16","2010-07-23","2010-07-30","2010-08-06","2010-08-13","2010-08-20","2010-08-27","2010-09-03","2010-09-10","2010-09-17","2010-09-24","2010-10-01","2010-10-08","2010-10-15","2010-10-22","2010-10-29","2010-11-05","2010-11-12","2010-11-19","2010-11-26","2010-12-03","2010-12-10","2010-12-17","2010-12-23","2010-12-31","2011-01-07","2011-01-14","2011-01-21","2011-01-28","2011-02-04","2011-02-11","2011-02-18","2011-02-25","2011-03-04","2011-03-11","2011-03-18","2011-03-25","2011-04-01","2011-04-08","2011-04-15","2011-04-21","2011-04-29","2011-05-06","2011-05-13","2011-05-20","2011-05-27","2011-06-03","2011-06-10","2011-06-17","2011-06-24","2011-07-01","2011-07-08","2011-07-15","2011-07-22","2011-07-29","2011-08-05","2011-08-12","2011-08-19","2011-08-26","2011-09-02","2011-09-09","2011-09-16","2011-09-23","2011-09-30","2011-10-07","2011-10-14","2011-10-21","2011-10-28","2011-11-04","2011-11-11","2011-11-18","2011-11-25","2011-12-02","2011-12-09","2011-12-16","2011-12-23","2011-12-30","2012-01-06","2012-01-13","2012-01-20","2012-01-27","2012-02-03","2012-02-10","2012-02-17","2012-02-24","2012-03-02","2012-03-09","2012-03-16","2012-03-23","2012-03-30","2012-04-05","2012-04-13","2012-04-20","2012-04-27","2012-05-04","2012-05-11","2012-05-18","2012-05-25","2012-06-01","2012-06-08","2012-06-15","2012-06-22","2012-06-29","2012-07-06","2012-07-13","2012-07-20","2012-07-27","2012-08-03","2012-08-10","2012-08-17","2012-08-24","2012-08-31","2012-09-07","2012-09-14","2012-09-21","2012-09-28","2012-10-05","2012-10-12","2012-10-19","2012-10-26","2012-11-02","2012-11-09","2012-11-16","2012-11-23","2012-11-30","2012-12-07","2012-12-14","2012-12-21","2012-12-28","2013-01-04","2013-01-11","2013-01-18","2013-01-25","2013-02-01","2013-02-08","2013-02-15","2013-02-22","2013-03-01","2013-03-08","2013-03-15","2013-03-22","2013-03-28","2013-04-05","2013-04-12","2013-04-19","2013-04-26","2013-05-03","2013-05-10","2013-05-17","2013-05-24","2013-05-31","2013-06-07","2013-06-14","2013-06-21","2013-06-28","2013-07-05","2013-07-12","2013-07-19","2013-07-26","2013-08-02","2013-08-09","2013-08-16","2013-08-23","2013-08-30","2013-09-06","2013-09-13","2013-09-20","2013-09-27","2013-10-04","2013-10-11","2013-10-18","2013-10-25","2013-11-01","2013-11-08","2013-11-15","2013-11-22","2013-11-29","2013-12-06","2013-12-13","2013-12-20","2013-12-27","2014-01-03","2014-01-10","2014-01-17","2014-01-24","2014-01-31","2014-02-07","2014-02-14","2014-02-21","2014-02-28","2014-03-07","2014-03-14","2014-03-21","2014-03-28","2014-04-04","2014-04-11","2014-04-17","2014-04-25","2014-05-02","2014-05-09","2014-05-16","2014-05-23","2014-05-30","2014-06-06","2014-06-13","2014-06-20","2014-06-27","2014-07-03","2014-07-11","2014-07-18","2014-07-25","2014-08-01","2014-08-08","2014-08-15","2014-08-22","2014-08-29","2014-09-05","2014-09-12","2014-09-19","2014-09-26","2014-10-03","2014-10-10","2014-10-17","2014-10-24","2014-10-31","2014-11-07","2014-11-14","2014-11-21","2014-11-28","2014-12-05","2014-12-12","2014-12-19","2014-12-26","2015-01-02","2015-01-09","2015-01-16","2015-01-23","2015-01-30","2015-02-06","2015-02-13","2015-02-20","2015-02-27","2015-03-06","2015-03-13","2015-03-20","2015-03-27","2015-04-02","2015-04-10","2015-04-17","2015-04-24","2015-05-01","2015-05-08","2015-05-15","2015-05-22","2015-05-29","2015-06-05","2015-06-12","2015-06-19","2015-06-26","2015-07-02","2015-07-10","2015-07-17","2015-07-24","2015-07-31","2015-08-07","2015-08-14","2015-08-21","2015-08-28","2015-09-04","2015-09-11","2015-09-18","2015-09-25","2015-10-02","2015-10-09","2015-10-16","2015-10-23","2015-10-30","2015-11-06","2015-11-13","2015-11-20","2015-11-27","2015-12-04","2015-12-11","2015-12-18","2015-12-24","2015-12-31","2016-01-08","2016-01-15","2016-01-22","2016-01-29","2016-02-05","2016-02-12","2016-02-19","2016-02-26","2016-03-04","2016-03-11","2016-03-18","2016-03-24","2016-04-01","2016-04-08","2016-04-15","2016-04-22","2016-04-29","2016-05-06","2016-05-13","2016-05-20","2016-05-27","2016-06-03","2016-06-10","2016-06-17","2016-06-24","2016-07-01","2016-07-08","2016-07-15","2016-07-22","2016-07-29","2016-08-05","2016-08-12","2016-08-19","2016-08-26","2016-09-02","2016-09-09","2016-09-16","2016-09-23","2016-09-30","2016-10-07","2016-10-14","2016-10-21","2016-10-28","2016-11-04","2016-11-11","2016-11-18","2016-11-25","2016-12-02","2016-12-09","2016-12-16","2016-12-23","2016-12-30","2017-01-06","2017-01-13","2017-01-20","2017-01-27","2017-02-03","2017-02-10","2017-02-17","2017-02-24","2017-03-03","2017-03-10","2017-03-17","2017-03-24","2017-03-31","2017-04-07","2017-04-13","2017-04-21","2017-04-28","2017-05-05","2017-05-12","2017-05-19","2017-05-26","2017-06-02","2017-06-09","2017-06-16","2017-06-23","2017-06-30","2017-07-07","2017-07-14","2017-07-21","2017-07-28","2017-08-04","2017-08-11","2017-08-18","2017-08-25","2017-09-01","2017-09-08","2017-09-15","2017-09-22","2017-09-29","2017-10-06","2017-10-13","2017-10-20","2017-10-27","2017-11-03","2017-11-10","2017-11-17","2017-11-24","2017-12-01","2017-12-08","2017-12-15","2017-12-22","2017-12-29","2018-01-05","2018-01-12","2018-01-19","2018-01-26","2018-02-02","2018-02-09","2018-02-16","2018-02-23","2018-03-02","2018-03-09","2018-03-16","2018-03-23","2018-03-29","2018-04-06","2018-04-13","2018-04-20","2018-04-27","2018-05-04","2018-05-11","2018-05-18","2018-05-25","2018-06-01","2018-06-08","2018-06-15","2018-06-22","2018-06-29","2018-07-06","2018-07-13","2018-07-20","2018-07-27","2018-08-03","2018-08-10","2018-08-17","2018-08-24","2018-08-31","2018-09-07","2018-09-14","2018-09-21","2018-09-28","2018-10-05","2018-10-12","2018-10-19","2018-10-26","2018-11-02","2018-11-09","2018-11-16","2018-11-23","2018-11-30","2018-12-07","2018-12-14","2018-12-21","2018-12-28","2019-01-04","2019-01-11","2019-01-18","2019-01-25","2019-02-01","2019-02-08","2019-02-15","2019-02-22","2019-03-01","2019-03-08","2019-03-15","2019-03-22","2019-03-29","2019-04-05","2019-04-12","2019-04-18","2019-04-26","2019-05-03","2019-05-10","2019-05-17","2019-05-24","2019-05-31","2019-06-07","2019-06-14","2019-06-21","2019-06-28","2019-07-05","2019-07-12","2019-07-19","2019-07-26","2019-08-02","2019-08-09","2019-08-16","2019-08-23","2019-08-30","2019-09-06","2019-09-13","2019-09-20","2019-09-27","2019-10-04","2019-10-11","2019-10-18","2019-10-25","2019-11-01","2019-11-08","2019-11-15","2019-11-22","2019-11-29","2019-12-06","2019-12-13","2019-12-20","2019-12-27","2020-01-03","2020-01-10","2020-01-17","2020-01-24","2020-01-31","2020-02-07","2020-02-14","2020-02-21","2020-02-28","2020-03-06","2020-03-13","2020-03-20","2020-03-27","2020-04-03","2020-04-09","2020-04-17","2020-04-24","2020-05-01","2020-05-08","2020-05-15","2020-05-22","2020-05-29","2020-06-05","2020-06-12","2020-06-19","2020-06-26","2020-07-02","2020-07-10","2020-07-17","2020-07-24","2020-07-31","2020-08-07","2020-08-14","2020-08-21","2020-08-28","2020-09-04","2020-09-11","2020-09-18","2020-09-25","2020-10-02","2020-10-09","2020-10-16","2020-10-23","2020-10-30","2020-11-06","2020-11-13","2020-11-20","2020-11-27","2020-12-04","2020-12-11","2020-12-18","2020-12-24","2020-12-31","2021-01-08","2021-01-15","2021-01-22","2021-01-29","2021-02-05","2021-02-12","2021-02-19","2021-02-26","2021-03-05","2021-03-12","2021-03-19","2021-03-26","2021-04-01","2021-04-09","2021-04-16","2021-04-23","2021-04-30","2021-05-07","2021-05-14","2021-05-21","2021-05-28","2021-06-04","2021-06-11","2021-06-18","2021-06-25","2021-07-02","2021-07-09","2021-07-16","2021-07-23","2021-07-30","2021-08-06","2021-08-13","2021-08-20","2021-08-27","2021-09-03","2021-09-10","2021-09-17","2021-09-24","2021-10-01","2021-10-08","2021-10-15","2021-10-22","2021-10-29","2021-11-05","2021-11-12","2021-11-19","2021-11-26","2021-12-03","2021-12-10","2021-12-17","2021-12-23","2021-12-31","2022-01-07","2022-01-14","2022-01-21","2022-01-28","2022-02-04","2022-02-11","2022-02-18","2022-02-25","2022-03-04","2022-03-11","2022-03-18","2022-03-25","2022-04-01","2022-04-08","2022-04-14","2022-04-22","2022-04-29","2022-05-06","2022-05-13","2022-05-20","2022-05-27","2022-06-03","2022-06-10","2022-06-17","2022-06-24","2022-07-01","2022-07-08","2022-07-15","2022-07-22","2022-07-29","2022-08-05","2022-08-12","2022-08-19","2022-08-26","2022-09-02","2022-09-09","2022-09-16","2022-09-23","2022-09-30","2022-10-07","2022-10-14","2022-10-21","2022-10-28","2022-11-04","2022-11-11","2022-11-18","2022-11-25","2022-12-02","2022-12-09","2022-12-16","2022-12-23","2022-12-30","2023-01-06","2023-01-13","2023-01-20","2023-01-27","2023-02-03","2023-02-10","2023-02-17","2023-02-24","2023-03-03","2023-03-10","2023-03-17","2023-03-24","2023-03-31","2023-04-06","2023-04-14","2023-04-21","2023-04-28","2023-05-05","2023-05-12","2023-05-19","2023-05-26","2023-06-02","2023-06-09","2023-06-16","2023-06-23","2023-06-30","2023-07-07","2023-07-14","2023-07-21","2023-07-28","2023-08-04","2023-08-11","2023-08-18","2023-08-25","2023-09-01","2023-09-08","2023-09-15","2023-09-22","2023-09-29","2023-10-06","2023-10-13","2023-10-20","2023-10-27","2023-11-03","2023-11-10","2023-11-17","2023-11-24","2023-12-01","2023-12-08","2023-12-15","2023-12-22","2023-12-29","2024-01-05","2024-01-12","2024-01-19","2024-01-26","2024-02-02","2024-02-09","2024-02-16","2024-02-23","2024-03-01","2024-03-08","2024-03-15","2024-03-22","2024-03-28","2024-04-05","2024-04-12","2024-04-19","2024-04-26","2024-05-03","2024-05-10","2024-05-17","2024-05-24","2024-05-31","2024-06-07","2024-06-14","2024-06-21","2024-06-28","2024-07-05","2024-07-12","2024-07-19","2024-07-26","2024-08-02","2024-08-09","2024-08-16","2024-08-23","2024-08-30","2024-09-06","2024-09-13","2024-09-20","2024-09-27","2024-10-04","2024-10-11","2024-10-18","2024-10-25","2024-11-01","2024-11-08","2024-11-15","2024-11-22","2024-11-29","2024-12-06","2024-12-13","2024-12-20","2024-12-27","2025-01-03","2025-01-10","2025-01-17","2025-01-24","2025-01-31","2025-02-07","2025-02-14","2025-02-21","2025-02-28","2025-03-07","2025-03-14","2025-03-21","2025-03-28","2025-04-04","2025-04-11","2025-04-17","2025-04-25","2025-05-02","2025-05-09","2025-05-16","2025-05-23","2025-05-30","2025-06-06","2025-06-13","2025-06-20","2025-06-27","2025-07-03","2025-07-11","2025-07-18","2025-07-25","2025-08-01","2025-08-08","2025-08-15","2025-08-22","2025-08-29","2025-09-05","2025-09-12","2025-09-19","2025-09-26","2025-10-03","2025-10-10","2025-10-17","2025-10-20"]""";
               CandlesData = "[[90.6200,87.7500,86.7500,97.7300],[92.4400,89.6200,88.0600,94.7500],[95.0600,91.7500,88.5000,95.5000],[115.0000,94.2500,93.2500,115.5600],[103.0000,114.5600,99.0000,118.0000],[100.0000,102.3900,91.0600,102.5000],[103.5000,99.5600,96.6200,104.5600],[102.8100,104.3700,95.0000,104.4400],[99.5000,104.8700,95.0000,112.5000],[100.4400,102.0000,86.5000,102.2500],[111.3100,101.0000,100.4400,121.5000],[101.6200,108.4400,100.6200,114.1900],[108.0000,101.0000,94.5000,110.0000],[108.7500,108.0000,105.9400,117.1200],[111.2500,109.3100,108.6200,119.9400],[110.3700,110.1200,106.6900,119.1200],[128.0000,110.1200,108.3700,132.0600],[125.7500,126.0000,118.2500,129.1300],[125.0000,122.1200,114.0000,126.5000],[138.6900,123.5000,121.6200,150.3800],[135.8100,137.6300,125.4400,144.7500],[131.7500,135.5000,116.7500,139.5000],[111.8700,131.6900,104.8700,132.7500],[118.8700,109.5000,109.0600,130.2500],[124.0600,115.0000,114.7500,128.7500],[113.1200,124.8700,110.5600,126.2500],[107.6200,112.0900,98.7500,113.6900],[94.0000,108.0600,93.3700,109.0600],[86.3700,93.7500,83.0000,93.7500],[92.5600,87.6200,80.3700,99.7500],[95.7500,93.3100,89.6900,98.5000],[91.1900,96.3700,88.1900,96.4400],[51.6900,90.5600,50.3100,103.9400],[52.3800,52.5000,51.0600,55.5000],[54.4400,52.1300,49.6300,55.1900],[57.6900,54.0900,53.7500,60.6300],[53.5600,58.2500,51.7500,58.8800],[48.3100,52.5600,46.8800,53.2500],[47.3800,49.1600,44.2500,51.6300],[47.6900,47.8800,45.5600,49.0600],[50.0000,47.5900,46.3100,52.4400],[56.8100,50.2500,49.6300,57.5000],[63.4400,57.2500,57.0600,63.6300],[58.8800,62.6600,57.7500,64.1200],[55.2300,58.6900,54.2500,60.3800],[52.1900,55.2500,50.0000,61.4400],[25.7500,52.7500,25.3700,55.5000],[22.1900,26.6900,21.0000,26.7500],[22.0600,22.6200,19.1200,22.8700],[19.5000,22.3100,18.3100,23.2500],[18.5600,20.2700,17.5000,20.8700],[22.2500,19.1200,18.7500,23.0000],[19.0600,22.4400,19.0600,22.6200],[18.5000,18.7500,18.2500,20.5000],[19.3100,18.5900,18.2500,19.5000],[17.0600,19.8700,16.1200,19.9400],[15.0600,17.1900,14.0000,17.4400],[14.0600,15.1900,14.0000,16.0000],[15.0000,14.5600,13.6300,15.2500],[14.8800,14.8800,14.1900,15.0000],[16.3700,14.8800,14.4400,18.5000],[17.1900,16.9400,15.9400,18.5000],[19.5000,17.4400,16.5000,19.5600],[19.5600,19.0600,18.4400,20.9400],[20.6200,19.5600,19.5600,22.5000],[19.1200,20.5000,18.6900,21.3900],[19.0000,19.0600,18.5000,20.5600],[18.8100,19.1900,18.0000,19.9400],[19.2500,19.0600,17.1900,20.4400],[20.2500,19.3700,19.2500,22.0600],[19.6200,19.6900,18.1200,21.3700],[23.0000,19.7500,19.3700,23.5600],[22.0700,23.1300,21.1300,23.7500],[20.5900,22.0900,18.7500,22.6600],[22.4200,20.6900,20.0600,23.0200],[25.0400,22.0900,19.6000,25.7500],[26.2000,24.3400,23.5100,26.2900],[25.7500,26.7000,23.9600,27.1200],[22.8500,25.6200,22.7600,25.7600],[23.5300,22.8900,22.7500,25.5000],[22.7600,23.6300,22.5000,24.1300],[20.8900,22.3200,19.3000,22.5000],[21.3200,21.0800,20.3300,21.7000],[20.4400,21.0500,19.3500,21.7300],[22.2600,20.4100,19.9800,23.0000],[23.2500,22.5000,22.4500,25.1000],[22.0300,23.6400,21.7200,24.2300],[24.8500,22.0900,20.8400,25.0100],[19.9800,24.8800,19.4900,25.2200],[18.9600,20.0900,17.8500,20.5000],[19.5000,19.1200,18.5100,19.9000],[19.0200,19.0400,18.5400,19.7000],[18.0700,19.1000,17.9700,19.3600],[18.5700,18.1400,17.5800,18.6200],[18.5500,18.6000,17.2800,19.3000],[17.2800,18.5000,17.2000,19.0800],[17.3700,17.0000,16.9200,17.5000],[15.7300,16.0000,14.6800,17.7200],[15.5100,16.1100,14.9300,16.8400],[16.1400,15.4900,14.8300,16.2500],[18.0100,15.5700,15.5000,18.0800],[18.3000,17.9500,16.9600,18.4100],[18.6700,18.2100,17.7500,19.4200],[18.5700,18.5700,17.0600,18.8600],[18.7100,18.8400,18.5300,20.1300],[18.9700,18.6600,17.9600,19.9000],[19.8400,19.0000,18.9600,20.2000],[21.3000,19.9400,19.8800,21.5500],[22.5400,21.0600,20.6000,24.0300],[20.3900,22.2900,20.0900,22.9900],[21.0000,20.4000,20.1900,21.6800],[22.4300,20.9000,20.9000,23.0000],[23.6900,22.5100,21.8300,23.9500],[21.0500,23.7200,20.2600,24.0000],[22.1700,21.0100,20.5000,22.7400],[23.2500,22.2700,21.5900,23.5100],[24.4100,23.4000,22.7200,24.9600],[24.0300,24.3200,23.3700,25.9800],[23.9000,23.9300,23.7400,25.2400],[22.7400,23.7600,21.4500,23.9000],[23.4500,22.8500,20.9400,24.7200],[24.6600,23.2600,22.7600,25.0900],[24.9500,24.6000,23.8800,25.1400],[24.0900,24.9500,23.2600,25.3000],[23.6700,24.0700,23.0000,24.0900],[24.7400,24.7000,23.2800,25.1900],[25.0600,24.1600,23.7800,25.2000],[24.9800,25.0600,24.8000,26.1700],[23.0100,24.8400,23.0000,24.9300],[23.5100,23.1600,23.0900,24.3800],[23.3200,23.3500,22.1400,24.5200],[25.0100,23.5200,22.9400,25.9800],[24.1500,24.5700,23.3200,25.2400],[23.3000,23.6900,23.2800,24.4400],[21.4000,23.3900,20.9300,23.4500],[20.1000,21.4800,18.1100,21.8400],[16.8500,20.2400,16.7900,20.6300],[17.7200,16.7700,15.9800,17.8200],[18.7400,17.7100,16.7500,18.7500],[17.5000,18.5200,16.9700,18.7900],[14.9600,17.4300,14.5300,18.6000],[14.3400,14.7500,13.8000,15.2200],[14.4500,14.4800,14.2500,15.5100],[15.0000,14.5100,13.9700,15.3800],[15.8100,14.9000,14.5400,16.1000],[15.7300,15.7800,15.4500,16.2500],[14.7500,15.9500,14.5100,15.9500],[14.3800,14.4900,14.0500,14.7800],[14.1700,14.2800,14.0500,14.6000],[14.8700,14.1400,14.1200,15.0900],[14.7200,14.7600,14.4000,15.1900],[14.0300,14.4000,14.0000,14.6300],[14.5100,13.9700,13.3600,14.7800],[14.3400,14.5500,13.9300,15.2500],[15.4200,14.2600,14.0000,15.4500],[16.3600,15.5500,14.9600,16.5000],[15.8400,16.5000,15.5200,17.3800],[15.9500,15.7500,15.1200,16.4100],[16.0100,16.1900,15.0100,16.4400],[15.5000,16.0300,15.2700,16.1400],[14.9500,15.9000,14.5000,16.1000],[14.7900,14.9400,14.6500,15.5500],[14.1400,14.8100,13.7800,15.1900],[14.0600,14.1600,14.0100,14.8100],[14.9000,14.0800,13.8400,14.9300],[14.7200,15.0300,14.4400,15.3800],[14.1000,14.9000,14.0800,14.9000],[13.8000,14.2100,13.5600,14.4100],[14.3600,13.6800,13.6500,15.0700],[14.1500,14.4100,14.0700,14.9300],[14.6700,14.2600,14.0600,14.7200],[15.0000,14.7500,14.6500,15.3000],[15.0100,14.8600,13.8000,15.0900],[14.5300,15.0100,14.3100,15.1600],[14.7800,14.5100,14.0600,15.0100],[15.0000,14.8900,14.6000,15.1500],[14.5700,14.6700,14.3000,14.8300],[14.4100,14.3400,14.0400,14.7000],[13.2000,14.8500,12.9300,14.9500],[13.1200,13.7100,12.7200,13.7500],[13.3500,13.1300,12.9800,13.6300],[14.4500,13.4800,13.4300,14.5900],[18.3000,14.7700,14.7500,18.4000],[18.8000,18.1500,17.9500,19.0000],[18.3200,18.5300,17.6000,18.6500],[17.9500,17.9600,17.5300,18.9000],[17.1500,18.1000,17.0200,18.2900],[17.4200,16.9400,16.6300,17.9500],[19.2000,17.6000,17.4500,19.6100],[18.7300,19.3010,18.4800,19.6900],[19.1300,18.6800,18.5100,19.5500],[19.8500,19.2700,19.1300,20.5000],[20.8590,20.0100,19.3800,21.1800],[21.5400,20.6900,20.2999,21.5700],[20.7300,21.5000,20.1700,21.5050],[19.6400,20.5300,19.4200,21.5000],[19.7100,19.8200,19.4600,20.3400],[20.8800,19.8600,19.7200,22.0000],[22.6100,20.7800,20.3500,22.8500],[22.5000,22.6600,22.4000,23.3200],[23.1000,22.4800,22.1000,23.1400],[22.5800,22.8100,21.8550,23.0500],[20.6900,22.1800,20.1490,22.5000],[21.6900,21.4900,20.1900,21.8600],[23.6800,21.6700,21.5800,23.8100],[22.7500,23.7300,22.4100,25.0110],[22.6000,22.6000,22.2300,23.4000],[22.8900,22.7500,22.4000,24.0000],[22.5000,22.8300,22.4500,23.3000],[21.4600,22.4500,21.2800,22.7200],[20.2800,21.3500,19.8500,21.3700],[20.9100,20.5000,20.2490,21.2700],[20.8500,21.0400,20.7300,21.9000],[20.8900,20.7800,19.9600,21.3400],[19.7000,21.4900,19.6200,21.4900],[20.7800,19.6500,19.2500,20.9100],[21.2800,20.9100,20.8600,21.7500],[23.0000,21.4200,21.4200,24.1300],[22.7200,23.1600,22.5000,24.8400],[22.5600,22.6700,22.1800,22.9700],[22.5600,22.4600,22.1900,23.3800],[22.7100,22.4600,21.7000,22.9100],[23.0000,22.6200,22.4400,24.1000],[22.4000,23.1000,22.2100,23.6400],[23.9200,22.4500,21.8899,24.0200],[26.7400,24.0900,23.6000,27.4900],[27.5600,26.7900,25.7500,28.1400],[25.8600,27.0300,25.3900,27.3500],[27.0400,25.3700,25.2200,27.3600],[27.5000,27.4000,26.6200,27.9900],[27.5300,27.4800,26.9200,28.3700],[29.1800,27.5000,26.3100,29.5800],[27.7000,28.1200,27.0500,28.7500],[25.7800,27.5800,25.4900,27.6350],[26.6700,26.0000,25.5000,27.5700],[27.0600,26.2700,25.9400,27.7200],[27.1100,26.7000,26.3600,27.5000],[28.0600,27.2500,27.1100,28.7800],[28.7800,27.7900,27.6100,29.2500],[30.7400,29.0400,28.8100,30.9700],[32.9100,30.6500,29.5000,33.4090],[33.7000,33.1000,32.1200,33.8300],[31.0800,33.9000,29.7300,34.1900],[30.0300,31.2700,29.9500,31.4200],[32.2000,30.0100,28.7400,33.6300],[30.7000,32.0500,30.4800,32.7100],[32.3400,30.8500,30.7800,33.0000],[29.7800,31.1800,29.7000,32.3000],[30.8400,29.8500,29.8100,31.5400],[30.8000,30.8800,30.3500,31.8600],[34.3500,30.8600,30.6000,35.1800],[35.2300,34.0200,33.9600,35.9900],[35.8700,35.4000,35.2300,36.5700],[37.1400,35.8600,34.7800,37.3800],[37.2900,36.9000,36.8100,38.8700],[38.6700,36.9700,36.8300,39.2700],[39.0600,39.0100,38.4000,40.9300],[45.5000,38.8000,37.6500,45.7500],[47.4100,44.7900,44.7000,48.3500],[52.4000,47.1900,46.9700,53.2000],[54.7200,52.5000,52.0400,56.1100],[55.5000,54.5300,53.3800,55.6900],[55.1700,55.0800,54.2200,56.9100],[64.5500,58.0400,57.9000,65.7600],[62.6800,69.0000,61.7500,69.5700],[65.1500,64.3100,62.0500,66.7300],[64.9900,65.7400,64.6000,67.5000],[64.0100,65.4800,61.6000,66.0000],[64.4000,64.6400,62.0500,65.1500],[69.2500,64.7800,62.6000,69.6300],[70.2000,69.9000,63.3000,74.4200],[70.4900,69.7400,69.2100,71.6000],[73.9800,70.9800,70.5500,73.9800],[78.8400,74.5800,74.5100,79.9100],[81.2100,78.9300,76.6600,81.9900],[86.8100,83.1600,82.0500,90.8800],[88.9900,86.3000,85.2900,89.9100],[42.8100,44.6800,41.2200,45.1400],[40.2700,42.8000,38.8300,43.2500],[42.9600,40.5200,39.5200,43.4400],[42.5000,43.2900,42.0200,43.9700],[40.8900,42.7500,40.5700,42.9600],[43.7400,40.9900,40.1600,44.4500],[35.3500,44.2200,35.2800,44.2500],[35.5000,35.0300,34.0000,37.7400],[36.0600,36.4900,35.2200,37.5100],[37.2400,36.2100,36.0200,37.3300],[34.7700,37.2400,33.1100,37.4500],[37.5500,34.5600,34.5300,37.6800],[40.5600,37.8500,37.8500,40.9400],[38.2400,40.6600,37.7700,40.7600],[35.8100,38.3300,35.5200,38.6300],[38.3100,35.8900,35.7500,38.5400],[37.7600,37.8500,37.3800,39.7800],[36.5000,36.8400,36.1200,38.1000],[38.2500,36.6000,36.5000,38.2800],[41.5500,38.3700,37.7800,42.0100],[44.0000,41.4100,41.0700,44.0400],[42.6500,43.9900,42.2600,44.3800],[42.9900,42.6000,42.0200,43.5000],[46.1000,43.0000,42.6100,46.2200],[45.8300,46.4800,45.7500,48.3300],[45.7400,46.1500,45.2600,47.1200],[46.2200,45.2700,45.2600,47.1700],[51.3100,46.6900,46.5500,51.3500],[51.2100,51.1000,49.3300,51.6300],[53.2000,51.0500,51.0500,53.8100],[53.6100,54.0300,50.5900,54.5600],[51.3000,54.1600,50.5500,55.3500],[54.0000,51.8400,47.8700,54.3500],[55.6600,53.9800,51.2100,56.9800],[54.4700,55.2500,54.1700,57.5600],[61.1500,55.2000,54.7500,62.3200],[61.5400,60.8500,59.0100,62.1100],[64.5600,61.5400,60.9100,65.8800],[69.3400,64.8200,63.7200,69.5400],[72.6300,70.7200,67.3500,72.7400],[74.3305,71.9500,71.4900,74.8300],[71.1100,74.8700,70.2700,75.4600],[73.3500,71.1100,71.0400,74.4900],[71.8900,74.0000,70.3400,75.1800],[76.3000,72.3320,72.2500,76.7000],[85.5899,76.7300,75.7400,86.4000],[76.0890,85.7000,75.8300,86.3800],[72.0300,76.1000,71.1000,79.5600],[71.8470,71.2800,70.8700,76.6000],[67.3100,72.1600,62.9000,72.5100],[70.2900,66.5200,64.6400,71.0100],[71.4600,70.6300,68.0000,73.0000],[67.7200,72.0200,67.5300,72.4000],[63.1900,67.6000,62.4500,67.7200],[64.6600,65.6100,64.1100,68.0400],[59.9600,65.2100,59.0300,65.4600],[62.7200,60.2300,57.6700,63.6100],[69.7900,63.6600,61.0500,72.0500],[66.4690,70.2400,65.8100,70.9300],[67.0400,66.5100,64.3500,70.0000],[70.3900,66.9200,65.5000,71.3000],[71.8900,70.7800,69.1600,72.8900],[67.7000,72.9900,66.8600,73.8000],[64.5100,67.3700,62.8200,68.3800],[63.5490,63.8700,61.5600,65.1900],[61.6600,63.2900,58.6900,63.3000],[59.5200,61.1500,57.1500,61.5600],[57.5600,58.8300,56.6900,59.7400],[58.8300,57.8300,57.0000,60.1700],[57.2700,59.1700,55.4100,59.2200],[55.4000,57.5200,54.6700,58.1800],[50.6700,55.7000,50.1600,56.4900],[60.7200,51.7300,51.6500,61.5900],[65.5900,61.2600,60.4300,65.6800],[68.3000,66.8300,64.9600,70.0000],[63.6500,67.7200,62.5800,69.6000],[67.9100,64.0500,63.6000,68.6600],[68.7500,67.3000,66.1500,69.0500],[68.3800,68.5000,65.1200,68.6500],[72.5200,68.9700,68.5500,73.5700],[74.1000,72.4300,71.4200,74.9800],[73.0000,73.8000,72.5800,76.0600],[76.9800,73.8100,73.7200,77.7800],[74.2200,75.1000,73.1600,76.1600],[75.0200,73.8000,72.6000,76.8800],[79.9500,75.1900,73.9100,79.9900],[80.4100,79.9900,79.7500,82.6000],[78.2900,79.9850,77.7900,81.6800],[83.1200,78.9500,78.4300,84.6900],[85.8500,83.2200,82.6400,86.3000],[91.6300,85.4000,85.2000,93.0800],[91.3200,92.5100,89.5000,93.1590],[88.2600,91.8800,86.9000,92.3300],[87.7200,88.9000,85.5300,90.0000],[82.2000,87.6250,81.6000,88.0000],[84.8400,82.1500,76.7700,85.4000],[85.0500,86.2900,81.9000,86.5800],[94.6200,85.9600,85.1500,97.8000],[88.5000,95.6800,88.1200,97.6000],[85.3800,89.1400,84.9900,89.1600],[84.7500,86.3000,83.7000,86.6500],[83.2700,84.3000,82.8600,86.5100],[84.8300,84.4300,83.6300,85.6400],[89.0700,84.6500,84.1600,90.8100],[85.4100,89.8400,83.0000,90.0000],[87.9700,85.8900,85.7600,88.9700],[89.5900,88.0700,87.9200,90.6000],[93.5200,90.2400,89.5900,94.3600],[92.9100,93.9900,92.2300,96.8300],[94.6800,94.1400,93.0200,95.2300],[90.2400,95.2100,90.0599,95.3000],[90.9700,90.5700,89.6000,92.3000],[99.9200,91.5850,91.3000,102.5000],[100.8100,100.0900,98.5500,101.6000],[108.7400,101.0800,101.0100,109.1300],[110.0200,109.6200,103.4200,110.6400],[113.6200,110.3100,110.0500,115.0000],[118.4000,114.4500,112.6900,122.1700],[124.4900,118.6300,117.9000,127.6100],[120.5000,126.0000,115.4000,126.1500],[123.0000,123.2800,120.7200,125.1800],[122.0400,124.1900,118.7200,125.0900],[132.3000,121.0500,119.3000,133.3400],[137.7300,132.3800,128.8100,137.8500],[143.7500,138.3900,136.0400,144.1800],[143.8500,143.3100,134.1500,148.9200],[131.8499,144.3300,127.7700,145.4500],[125.0000,132.9000,120.3000,137.2400],[122.0600,128.3300,111.6200,129.3500],[135.3000,123.9600,120.5000,135.3700],[138.4800,133.3907,126.6300,139.6500],[131.7700,139.9400,130.0000,145.8400],[138.8100,137.0000,133.7500,139.4000],[144.1500,138.9900,137.6000,144.6500],[153.4700,146.7300,146.6500,155.0000],[161.4499,154.6300,152.9300,161.5800],[167.2537,163.4900,153.2100,171.8800],[170.4200,167.9800,163.5000,174.6300],[184.7000,170.3500,169.9601,188.6000],[187.8700,185.7000,180.0000,190.1200],[165.3700,185.2900,165.2100,192.6800],[166.3900,165.2800,150.6300,177.5700],[171.5400,166.1000,162.1000,172.3500],[182.2200,173.5900,170.0100,187.7000],[194.3000,181.8600,176.9900,194.9900],[190.3900,193.5900,185.7600,200.0000],[193.9100,190.7200,178.6000,193.9125],[199.8300,195.0300,194.7900,202.9600],[180.0500,199.5000,178.8900,200.5000],[172.6900,181.2500,168.3000,183.6000],[161.3600,177.5200,156.7000,179.4200],[130.0100,148.0600,126.1400,159.9800],[133.7500,128.1600,126.4500,136.6500],[125.4800,134.2100,117.2700,135.9000],[124.6300,128.0100,123.6200,131.0000],[119.4600,125.9900,115.8700,126.7500],[125.0200,118.5900,115.4400,132.2000],[122.2500,124.4400,118.0000,127.5000],[126.6100,121.9800,119.3700,130.3000],[133.2700,122.5500,122.5500,134.2900],[143.0100,134.0100,133.6400,145.7400],[153.0800,143.2700,142.5200,154.7150],[147.1400,156.1300,146.4000,159.6900],[161.0400,146.7700,144.5400,162.2600],[169.7300,162.3500,158.0900,171.1000],[180.9400,169.7400,169.1300,181.9200],[183.4500,181.8100,180.5400,188.2000],[187.6201,185.1200,182.8500,192.2400],[181.1700,187.9000,172.0000,188.6900],[188.7500,182.8000,181.8400,189.5400],[185.6400,188.5000,182.3354,189.9500],[172.3700,184.9200,165.3100,186.7800],[175.2700,171.2500,169.0700,182.3400],[170.0900,174.7800,164.1500,178.8300],[170.1200,170.0400,164.0000,177.4500],[172.5800,173.0000,171.0000,180.9100],[165.1500,175.3700,165.0000,179.3000],[162.1200,166.9000,146.5300,168.3700],[156.6600,162.1800,153.6500,162.4700],[169.5500,156.5800,152.9100,169.6500],[175.7400,170.0700,169.6700,180.4500],[176.7900,175.5700,171.8100,177.8100],[169.5300,176.1500,169.0401,176.2500],[160.1800,172.4000,157.6500,173.5000],[148.9400,164.5700,146.0000,164.8900],[140.9100,142.0300,120.6800,147.6900],[128.2400,139.9400,123.0000,140.2500],[97.0700,119.6200,94.6500,119.6800],[96.8000,91.9600,85.0000,101.5000],[97.4000,104.5500,85.8850,116.4000],[96.3800,99.7800,90.1100,101.2500],[107.5900,95.0700,91.8600,112.1900],[98.2400,105.9300,95.7200,111.7900],[90.2400,100.1700,86.0200,100.4000],[82.5800,88.4800,79.1400,91.5800],[92.6700,85.2100,84.8400,95.2500],[94.0000,91.3000,86.5000,96.2300],[98.2700,97.2800,92.5300,103.6000],[90.0000,95.9900,88.0200,96.4800],[85.8100,90.0200,84.5500,90.0300],[90.7500,86.5200,84.7200,91.0400],[90.5800,93.1700,90.0400,97.1700],[82.3300,90.4600,80.0500,90.9900],[88.3600,81.9300,78.2000,90.0000],[90.1300,88.8800,88.3000,95.0000],[99.7200,89.1000,88.9000,100.0000],[99.1600,101.1650,95.7700,103.0000],[91.2000,96.7900,89.0000,97.0400],[89.3100,91.6000,86.5100,92.9200],[85.3000,89.3100,82.3300,92.7700],[95.9300,84.1200,82.5700,97.2000],[101.5900,96.4500,94.1800,103.4800],[106.8500,102.7100,101.7500,109.9800],[115.9900,104.5100,102.6100,116.1300],[119.5700,114.9400,113.2800,120.0000],[123.4200,120.0100,115.7600,124.2500],[123.9000,121.7300,118.6000,127.2000],[127.2400,122.9000,122.6600,127.9500],[129.1900,128.2400,126.2600,133.5000],[122.4200,127.3700,119.3800,130.9600],[122.5000,123.7300,121.5700,129.3100],[135.8100,124.7600,124.5500,135.9000],[144.6700,136.4700,136.0000,146.4000],[136.9700,143.8200,136.0400,144.5600],[139.4800,136.0100,134.5300,139.5000],[142.4400,140.6700,132.8800,143.5600],[140.0200,143.4600,139.7900,144.6600],[138.5200,138.7000,134.4200,139.6800],[151.7500,139.5400,137.5300,152.0200],[159.9860,153.2700,149.7500,160.0000],[163.3900,160.1700,157.2600,165.0000],[165.5100,165.2100,163.0900,167.3900],[166.7800,165.6600,161.8800,168.6700],[169.2200,163.5500,159.4200,169.3700],[170.0500,170.1200,164.8300,172.4900],[170.3100,168.1600,164.1100,170.7000],[172.1600,172.9800,169.7000,174.4700],[185.0200,170.8300,170.2500,186.7900],[182.3700,184.2900,181.4400,188.9000],[184.9000,183.8700,180.7000,187.4000],[190.4700,186.2000,184.2701,191.4500],[188.0500,191.0200,187.8400,192.3200],[203.9400,187.8500,185.5500,208.7099],[188.5000,203.6700,186.0667,206.7500],[194.3400,189.8000,185.5700,195.1900],[204.4500,196.9400,196.2600,205.0000],[199.9200,205.4800,197.7600,208.0000],[200.5900,203.0000,198.3700,206.0000],[193.3200,201.1100,190.2800,202.7700],[194.6700,193.3200,188.6800,199.7000],[195.4300,195.3700,191.0000,197.5100],[209.0400,196.0500,195.6700,209.3500],[210.7320,211.7200,208.3100,213.9500],[211.9800,213.4300,209.0500,215.5900],[205.9300,212.8000,204.1000,213.0000],[197.7500,208.3300,197.1600,215.5500],[192.0630,202.5100,190.2500,213.7100],[195.4600,192.3700,190.8500,200.2000],[200.3800,195.6900,194.0000,201.6400],[201.6700,201.9400,200.8600,204.3100],[204.6200,202.3400,195.7100,205.1700],[218.9500,205.7500,205.4500,219.7000],[226.6000,220.0100,217.8900,227.7300],[222.2499,225.3800,220.2500,226.4500],[230.9000,220.4700,220.1500,231.9500],[235.9700,233.0000,231.6200,238.7300],[241.7900,234.9750,234.7700,241.9200],[247.4000,242.2000,241.1100,251.1400],[270.8300,247.0300,241.7700,272.1800],[261.0900,271.8800,256.4100,272.4600],[235.8600,263.8400,199.2500,267.8800],[253.8200,250.2500,248.5300,265.0000],[242.3200,254.7000,231.3500,258.5500],[256.8800,247.2800,237.1600,259.4000],[255.9650,259.6900,254.6300,265.9400],[253.5100,258.2900,242.2000,259.1500],[274.0740,255.9600,254.0100,275.0000],[266.7000,277.6900,265.8100,279.0100],[246.9400,266.9300,243.2000,269.7500],[259.6200,251.0000,246.1600,262.9000],[249.9000,258.5300,246.4300,261.8500],[259.9400,249.8800,239.6000,265.1500],[257.2500,260.0000,254.9000,265.9900],[260.0910,260.4400,257.6300,264.2800],[249.1000,261.4800,246.1200,262.1500],[249.6400,247.5800,246.6200,254.6700],[241.6200,251.7900,235.5600,252.0000],[258.7700,240.7600,240.3500,258.7800],[263.4100,256.6400,256.2500,266.5200],[275.3700,265.8200,265.5200,277.9600],[292.3200,276.0800,275.8500,293.5300],[282.5200,293.9750,275.0000,294.7300],[294.0700,281.6000,277.7700,294.5000],[314.7400,294.7400,292.4900,315.0000],[307.4700,318.4700,300.0200,319.0000],[300.9800,309.0900,300.8700,311.6000],[317.1300,302.2200,302.2000,320.1800],[308.0300,317.2000,303.6300,321.3000],[306.7300,308.4600,297.7600,310.5400],[315.0000,306.6800,305.8700,317.6999],[317.4400,315.5000,310.8700,319.0000],[320.5600,318.6400,317.1100,323.9900],[320.6100,324.3700,319.0000,325.0600],[323.6000,321.6000,318.2300,325.7200],[322.5600,322.8519,321.3100,326.6600],[336.1200,325.6400,324.8365,336.3500],[348.4800,338.8300,337.1700,348.4800],[326.7200,329.5200,326.0000,348.6000],[336.1000,326.8700,326.7200,345.6000],[346.5000,335.8000,334.3000,346.7000],[356.8500,347.8900,347.6400,360.0000],[350.5600,356.7900,349.5200,364.9000],[348.1600,342.1500,337.7200,348.4300],[360.0000,351.2400,347.6810,360.2900],[351.9900,361.4000,344.9000,361.6700],[330.6700,353.1800,326.2600,356.4844],[351.5400,335.9900,335.2600,352.0600],[344.5600,353.1500,343.3000,354.3200],[335.0600,344.3100,333.9500,344.6000],[327.4600,334.0600,326.8000,336.1400],[350.6960,326.1000,320.1600,355.1300],[350.1300,350.3400,345.5200,354.9900],[346.6600,349.7400,345.5000,351.8300],[340.5000,347.8600,340.3500,350.0000],[335.2200,339.2000,330.7300,342.4140],[337.4100,329.9700,329.4200,338.5600],[343.4400,341.1000,341.0000,352.1320],[325.9000,344.8400,325.5100,347.0500],[320.2600,327.2000,318.3300,333.2500],[326.3500,317.3550,310.5000,333.1500],[343.2600,327.5900,327.2500,343.5000],[359.7100,343.0000,342.5000,360.0000],[364.9200,356.3400,348.6200,365.0000],[393.3000,365.4300,365.2800,396.2700],[390.4800,390.3500,384.0000,404.5000],[373.6200,397.7800,362.5700,399.5000],[376.9900,361.6900,353.0200,379.6400],[356.0300,379.6300,356.0000,384.9700],[383.5800,364.5100,355.0900,383.8000],[374.0500,388.1800,371.8300,392.0800],[377.4800,367.3700,366.4800,388.6100],[400.5000,375.8900,371.9000,400.5030],[404.3000,397.0000,395.2045,422.8600],[381.3200,399.8600,381.1800,409.2500],[369.8000,380.3700,354.2400,384.7800],[422.0000,379.0900,378.2100,422.0000],[392.8700,421.7400,390.7500,426.7000],[404.9500,396.1800,393.1510,409.0000],[400.2400,402.4200,393.2200,409.3300],[384.6200,399.9100,380.2600,408.0000],[374.9400,383.5201,374.8800,391.1400],[363.5700,370.4000,363.3200,377.9300],[389.7000,372.3500,370.2000,393.6299],[393.6200,393.4900,386.7625,396.4100],[381.0200,391.6800,377.6800,395.4000],[403.3300,382.4700,380.4800,403.5900],[405.0000,403.1000,400.5100,409.0900],[422.4000,409.4000,409.0000,422.7500],[419.8100,425.5001,418.6600,427.7500],[420.3000,424.2000,419.7500,431.3690],[447.2800,422.6700,419.5500,454.4500],[459.6800,445.7100,445.3900,460.0000],[493.4200,458.3800,458.2010,497.6200],[502.1200,499.5300,486.6300,526.2900],[522.4100,506.8800,504.1200,522.9000],[545.1800,521.3100,516.2800,548.2100],[545.1700,545.4200,516.2210,547.7400],[585.5700,548.9820,547.0000,600.0100],[596.0500,598.3700,582.0000,609.6500],[599.5500,599.7900,595.2600,621.4500],[633.6800,601.8300,600.3800,634.6600],[605.2300,626.1300,603.5100,644.0000],[572.9800,610.0600,570.4200,620.2500],[603.0000,570.6100,555.0000,618.0000],[565.2500,597.8000,565.1700,598.4000],[566.7100,561.5000,558.7300,575.8800],[530.3800,562.5700,522.1800,567.5100],[562.2900,534.5000,534.0500,576.5000],[560.9900,570.9000,560.5200,581.5000],[580.3200,561.5000,548.5000,580.5840],[574.1300,587.7200,566.7000,588.5000],[582.1000,570.9600,570.3700,590.0000],[584.0000,577.3000,565.6100,584.0000],[605.8800,584.7300,583.6000,614.3400],[604.9700,605.3000,592.6800,619.8700],[604.3000,605.1200,603.1500,615.3500],[585.1600,594.4000,570.0000,609.6800],[615.7000,590.9200,587.8200,617.9800],[621.7000,617.2900,615.2600,625.0000],[648.1100,623.3900,623.2500,648.1900],[663.2220,650.0100,648.1100,674.8800],[665.2400,679.9900,657.2500,680.8700],[680.4400,665.7600,664.5000,682.4800],[691.2800,680.4500,656.0000,696.9800],[700.0950,699.3500,693.6200,705.0700],[667.1050,686.8600,660.3500,695.1200],[652.5900,671.5000,650.6500,676.7500],[629.7140,646.8800,623.5500,647.5600],[609.8400,632.3500,609.6200,652.7900],[604.0000,612.4200,591.0000,635.3800],[576.8000,594.8800,574.7500,603.0000],[547.0600,583.5150,533.7200,590.7400],[527.6780,554.1500,505.7501,554.5000],[571.5000,540.7097,539.8800,572.0000],[585.2800,575.9000,572.2600,594.2500],[533.2500,593.6500,518.6300,594.5900],[509.7940,525.0000,505.5800,549.5600],[519.3300,508.9300,501.2300,534.9000],[509.5892,520.3500,504.6600,524.2500],[527.0000,510.5300,509.0000,555.0000],[520.3000,522.0000,515.2000,531.8900],[500.0000,502.6800,483.3800,510.7500],[439.8800,504.5600,435.0000,514.9900],[453.6200,437.8250,435.8600,462.6000],[474.9800,453.9100,442.0000,478.8100],[460.1600,476.5000,459.9200,484.9400],[450.8100,461.1000,442.8200,462.7300],[430.4700,453.8500,429.9800,455.1200],[431.7200,427.8000,419.0000,435.4300],[443.6600,429.7499,425.1400,444.2300],[461.9100,441.4500,441.2000,462.1000],[442.6600,464.6900,441.6200,469.9500],[423.2000,441.9000,419.6800,443.6980],[429.8000,424.8500,422.4900,437.9900],[390.5300,427.0000,385.1000,427.8900],[417.2050,392.6400,391.2750,418.7690],[449.9800,420.4500,420.0000,453.2300],[452.9700,455.7100,450.4800,465.7500],[433.2600,451.5100,418.9000,457.9000],[445.1500,431.9100,430.1000,448.3499],[449.7350,449.9000,439.4000,457.1000],[441.8110,450.7300,432.7700,454.4300],[430.0500,444.7300,428.5000,449.0790],[413.5000,431.4400,408.1001,435.7000],[396.5300,407.4000,388.8700,408.6600],[417.4200,402.6900,401.2200,423.2900],[426.5100,420.1100,410.3800,429.7900],[424.9500,425.0100,424.1700,434.8700],[440.9900,429.4600,418.7100,444.5900],[462.5400,440.8000,440.2000,462.8500],[454.4500,464.6900,453.6500,471.8900],[502.3300,456.8600,456.6300,504.2500],[501.0200,504.3400,498.2000,513.7400],[487.2160,500.7500,486.0000,510.2000],[498.2200,493.1000,487.3500,502.2400],[464.9000,505.0000,464.7000,507.9200],[467.4100,461.0000,447.2200,478.5500],[482.7500,496.1000,480.7200,496.9100],[483.0300,477.2500,474.4110,492.3500],[492.8120,486.5600,478.2800,493.8400],[508.8900,489.8300,489.3500,509.2600],[525.9580,511.7700,508.0300,533.2300],[520.0300,529.0400,514.5400,539.2500],[520.5600,521.1000,512.3800,528.8850],[524.9910,519.9900,514.4100,529.2800],[519.8000,524.9900,513.6700,527.1900],[556.0700,521.0200,521.0000,558.3300],[560.0200,558.0000,550.8200,575.1358],[554.4300,560.9001,553.6700,570.9700],[549.0200,555.0200,538.8000,562.6389],[560.0900,568.0000,559.5000,571.8800],[540.9800,557.4600,540.4300,561.2800],[532.9400,537.4500,531.1100,546.8600],[540.6700,529.9100,529.8800,560.2000],[546.0700,540.9900,540.4200,557.2900],[500.6000,550.0700,493.5500,554.8000],[519.6800,502.6100,499.3000,522.9299],[543.9900,518.6600,518.0000,545.9799],[525.2500,546.0000,524.6000,551.1900],[526.2400,523.1500,515.6000,532.7500],[530.4400,523.4200,522.8100,534.7500],[524.6900,528.3600,523.0000,539.6600],[532.8700,527.7000,525.2001,536.2400],[536.8600,538.4200,534.2500,549.0000],[531.8200,539.2300,530.5800,543.4800],[519.6100,528.0200,517.1400,532.2400],[524.9400,521.9000,511.3300,527.7600],[571.9400,525.3400,523.9600,571.9900],[592.5800,572.8000,572.5500,599.4300],[585.5425,590.1400,580.3300,604.4099],[597.5100,587.4900,585.4000,597.5300],[614.1300,597.8500,597.3300,614.7293],[633.0000,615.8800,615.6300,644.1700],[645.5700,633.9600,622.5000,651.2600],[91.2800,92.7000,90.8800,95.0500],[90.9100,91.5100,90.9000,92.7500],[91.9800,91.3200,89.6500,92.0000],[94.0300,92.1000,92.0900,94.1000],[95.2200,94.1400,93.5200,96.8000],[94.4300,95.8600,92.5700,97.1000],[97.6710,94.9900,93.7200,97.8800],[96.1300,97.8200,94.8100,99.4400],[94.7400,96.3700,93.2800,96.5800],[97.9800,95.2700,94.8355,98.1900],[101.3200,98.4900,97.9800,101.4700],[102.5000,101.7900,100.7000,102.9000],[98.9700,103.0600,97.7900,103.7400],[101.6600,99.3000,96.1400,103.0800],[100.9600,102.8100,98.8900,103.0500],[100.7500,101.8000,97.7200,102.9400],[99.6200,98.6500,98.0400,101.5400],[100.7300,99.9500,98.3100,102.3800],[97.6700,101.3300,95.1800,101.7800],[105.2200,98.3150,98.2200,105.4900],[108.0000,104.8500,104.7000,108.0400],[109.0100,108.2200,107.7200,110.3000],[114.1800,109.0200,108.4000,114.1900],[116.4700,114.2700,113.3000,117.5700],[118.9300,116.8500,116.6200,119.7500],[115.0000,118.8100,111.2700,119.2500],[109.7300,114.1000,109.3500,114.8500],[111.7800,110.7000,106.2600,113.2400],[113.9900,112.1600,111.9700,114.5200],[109.3300,113.7900,107.3500,114.7700],[112.0100,108.2900,104.6300,113.2500],[105.9900,112.6000,105.2000,112.8000],[112.9800,107.8400,106.5000,113.7500],[117.1600,113.7400,109.0300,120.0000],[118.9300,118.0500,116.0800,120.5100],[127.0800,118.5500,118.4300,127.4800],[129.4950,127.4900,126.9200,129.5000],[128.4600,130.0200,126.6100,133.6000],[126.6000,129.2500,125.7600,130.2800],[123.5900,127.9600,121.6300,129.5700],[125.9000,123.8800,122.8700,129.2451],[123.2500,127.1200,122.6000,128.0400],[125.3200,124.0500,123.1000,126.4900],[127.1000,124.4700,124.3300,128.1218],[124.7500,128.3700,124.4600,128.5700],[130.2800,125.5700,125.1700,130.6300],[128.9500,132.3100,124.5800,134.5400],[127.6200,129.5000,123.3600,130.5700],[128.7700,127.3900,124.8200,129.4900],[132.5400,128.3800,128.3600,132.9700],[130.2800,132.6000,129.1200,132.9100],[128.6500,131.2000,128.3600,131.3900],[127.1700,128.9000,125.6200,130.1800],[126.6000,126.1000,125.7100,128.3100],[126.7500,127.4900,126.5100,129.8000],[126.4400,125.4600,124.4800,126.9400],[123.2800,124.9400,119.2200,126.2300],[129.6200,125.0300,124.3200,129.6200],[124.5000,130.9700,121.9900,132.9700],[121.3000,123.0900,120.9100,123.9100],[115.5200,121.5000,112.1000,122.5700],[115.9600,116.5300,109.6300,119.9900],[105.7600,116.0400,105.6450,117.6500],[113.2900,94.8700,92.0000,113.3100],[109.2700,112.1300,107.3600,114.5300],[114.2100,111.6500,109.7700,114.2100],[113.4500,116.5800,111.8700,116.8900],[114.7100,113.6700,112.3700,116.6900],[110.3800,113.8500,107.3100,114.5700],[112.1200,109.8800,108.2100,112.2800],[111.0400,112.7300,109.5600,112.7500],[119.0800,110.8000,110.1100,119.2280],[119.5000,118.0800,113.9900,121.2200],[121.0600,119.8700,119.6100,123.8200],[112.3400,120.9600,112.2700,121.8100],[119.3000,111.3800,111.0000,119.9200],[117.8100,119.2700,117.1200,119.7300],[119.0300,117.9900,114.2200,119.4100],[113.1800,118.9800,112.8510,119.8600],[106.0300,112.1800,105.8100,112.8000],[108.0300,107.2800,105.5700,109.0000],[105.2600,107.5900,104.8200,109.4300],[96.9600,102.6100,96.4300,105.8500],[97.1300,98.9700,95.3600,101.1900],[101.4200,98.4100,93.4200,101.4600],[97.3400,101.5200,92.3900,101.5300],[94.0200,96.4700,93.6900,97.3300],[93.9900,93.1300,92.5900,96.3500],[96.0400,95.0200,94.6100,98.8900],[96.9100,96.3100,93.3200,98.0237],[103.0100,96.8600,96.6500,103.7500],[102.2600,102.3900,100.1500,102.8300],[105.9200,101.9100,101.7800,106.5000],[105.6700,105.9300,104.8900,107.6500],[109.9900,106.0000,104.8800,110.4200],[108.6600,110.4200,108.1210,112.1900],[109.8500,108.9700,108.6600,112.3900],[105.6800,108.8900,104.6200,108.9500],[93.7400,105.0000,92.5100,105.6500],[92.7200,93.9650,91.8500,95.9000],[90.5200,93.0000,89.4700,93.7700],[95.2200,92.3900,91.6500,95.4300],[100.3500,95.8700,95.6700,100.7300],[97.9200,99.6000,96.6300,100.4000],[98.8300,97.9900,97.5500,101.8900],[95.3300,98.6900,95.3000,99.1200],[93.4000,96.0000,92.6500,96.8900],[95.8900,93.0000,91.5000,96.4650],[96.6800,95.3900,94.3700,96.8900],[98.7800,96.7500,96.7300,99.3000],[98.6600,98.7000,98.3100,101.0000],[104.2100,98.2500,96.4200,104.5500],[107.4800,104.4100,104.0000,107.6500],[108.1800,107.5200,107.1600,108.9400],[109.3600,108.1400,108.0800,110.2300],[106.9400,108.8600,106.3100,109.3200],[107.7300,106.6200,105.5000,108.0000],[103.1300,107.9000,103.1300,108.7600],[114.9200,102.6500,102.5300,116.1300],[112.7100,115.1900,111.5500,116.1800],[113.0500,111.6400,111.5500,114.6400],[114.0600,112.7100,112.2800,114.5600],[117.6300,115.0200,114.7200,118.6900],[116.6000,117.3300,113.8000,118.2100],[113.7200,117.1000,113.3100,118.3600],[108.8400,113.6500,108.1100,114.2300],[108.4300,110.0800,105.8300,111.7200],[110.0600,107.3200,104.0800,110.5400],[111.7900,110.1200,110.0100,112.4200],[109.9000,111.4300,108.8500,112.4650],[113.9500,110.0000,108.2500,114.7000],[115.9700,113.2900,112.4900,116.7300],[116.5200,115.8000,115.5900,117.5000],[115.8200,116.5200,115.4300,118.0166],[117.9100,115.8000,114.7600,118.1600],[119.0400,117.9500,117.9400,119.9300],[120.0000,118.3400,118.2200,120.5000],[121.9500,120.0000,119.5000,122.4400],[129.0800,120.9300,120.6200,130.4900],[132.1200,129.1300,128.9000,132.9400],[135.7200,133.0800,132.7500,136.2700],[136.6600,136.2300,135.2800,137.4800],[139.7800,137.1400,136.2800,140.2786],[139.1400,139.3650,137.0500,139.9800],[139.9900,138.8500,138.8200,141.0200],[140.6400,140.4000,139.7300,142.8000],[143.6600,139.3900,138.6200,144.5000],[143.3400,143.7100,143.0500,145.4600],[141.0500,143.6000,140.0600,143.8792],[142.2700,141.4800,140.4500,142.9200],[143.6500,143.5000,143.1800,144.9000],[148.9600,145.1000,144.2700,148.9800],[156.1000,149.0300,149.0300,156.4200],[153.0600,156.0100,149.7100,156.6500],[153.6100,154.0000,152.6700,154.9000],[155.4500,153.4200,152.2200,155.4500],[148.9800,154.3400,146.0200,155.9800],[142.2700,145.7400,142.2000,147.5000],[146.2800,143.6600,143.6600,147.1600],[144.0200,147.1700,142.2800,148.2800],[144.1800,144.8800,142.4100,145.3000],[149.0400,144.1100,143.3700,149.3300],[150.2700,148.8200,148.5700,151.7400],[149.5000,150.5800,147.3000,153.9900],[156.3900,149.9000,148.1300,159.7500],[157.4800,157.0600,154.6300,161.8300],[157.5000,159.3200,156.7200,162.5100],[159.8600,157.5000,155.1101,160.7400],[164.0500,160.1400,159.9300,164.9400],[158.6300,163.7500,158.5300,164.2500],[159.8800,160.5000,157.9100,163.9600],[151.8900,160.1100,150.5600,160.5000],[154.1200,149.9900,149.1600,154.7189],[155.3000,154.2600,152.4600,155.4900],[156.9900,155.8100,155.1000,158.0000],[156.2500,157.9000,155.0200,160.8700],[163.0500,156.8900,155.2700,163.6000],[172.5000,163.8900,163.7200,174.2600],[174.6700,172.3650,171.7200,176.2400],[170.1500,173.5000,168.3800,174.5000],[174.9700,170.2900,169.5600,175.5000],[171.0500,175.0500,167.1600,175.0800],[169.3700,172.4800,166.4600,172.6200],[173.9700,169.2000,168.7900,174.1700],[175.0100,174.8800,173.2500,177.2000],[169.2300,170.8000,169.2200,171.8500],[175.0000,170.1600,169.2600,175.3700],[177.0900,174.3500,173.0000,177.3600],[178.4600,177.9000,175.0700,180.1000],[171.5100,177.3000,170.0600,179.4400],[160.5000,170.1600,160.1000,170.1600],[156.4100,159.1000,150.2400,163.8800],[172.4300,158.5000,157.5100,174.8200],[175.5000,172.0500,171.0100,175.6500],[176.2100,176.3500,172.4500,180.6200],[179.9800,175.2100,174.2700,180.0000],[178.0200,180.2900,177.6200,183.5000],[164.9400,177.3200,164.9400,177.4700],[167.7800,168.0700,165.1900,175.1500],[168.3800,166.6400,164.4700,174.2300],[174.7300,169.8800,169.8500,175.8400],[165.7200,175.0300,165.4300,178.9400],[162.3200,166.8300,160.6300,166.9200],[183.8300,162.1300,161.8400,184.2500],[188.5900,185.1800,183.6700,190.3700],[186.3100,189.0100,185.1000,189.5300],[188.5800,188.0000,185.7600,189.6500],[190.2400,187.6000,186.1400,190.2600],[191.7000,191.6400,189.7700,194.2000],[188.8400,191.3500,188.2600,192.8800],[184.9200,187.8800,183.4500,189.2200],[185.1100,183.4000,180.7300,187.2800],[187.9700,183.8200,183.4200,188.4300],[191.3300,189.5000,187.6100,191.8400],[191.4400,191.5200,189.2000,192.6500],[190.9800,190.6800,189.5600,195.9600],[207.9900,191.9000,189.0700,208.7400],[207.5300,208.0000,204.5200,209.7800],[217.5800,207.7000,207.7000,217.9500],[216.1600,218.1000,213.8400,219.1800],[227.6300,217.1500,216.3300,228.8700],[221.3000,228.4100,220.7100,229.6700],[223.8400,220.9500,216.4700,228.3500],[217.6600,222.1500,215.3000,222.9500],[225.7400,216.8200,216.6300,226.4400],[224.2900,227.9500,220.5800,233.4700],[222.1100,222.2100,212.3200,227.2700],[219.3100,221.1600,213.0000,222.9900],[216.3000,219.7900,212.6700,224.2300],[207.4800,219.1900,205.4300,222.3600],[204.4700,204.3000,198.1700,210.1200],[193.5300,199.0000,185.9300,199.8500],[172.2900,190.0000,172.1000,190.7000],[178.5800,174.2400,170.2600,182.8000],[168.4900,184.4600,168.3000,184.9400],[165.4800,165.0000,163.3300,172.5700],[150.7300,165.4500,149.6300,168.3500],[156.2300,148.1500,146.5900,158.5200],[148.2600,158.5300,142.0000,159.3600],[152.2900,148.7000,145.9000,154.5300],[156.8200,150.8500,149.2200,157.8800],[157.7600,156.4100,151.7000,158.1300],[166.5200,155.7900,153.6600,169.0000],[170.4100,167.4100,167.2800,175.5700],[170.4200,171.0500,169.2500,172.4800],[172.9700,169.7100,169.4900,173.3200],[174.9700,174.1600,172.7300,175.8700],[172.9100,175.6900,169.5000,177.7500],[186.1200,175.4900,175.3500,187.3300],[191.0500,185.8000,184.7300,197.6900],[189.9500,191.5100,184.5800,192.8800],[197.0000,191.6400,188.3800,197.1000],[198.8700,196.4200,196.2100,202.8500],[203.8600,198.5800,198.0100,204.1500],[204.3000,202.8300,202.1200,208.4800],[211.7500,204.4000,199.1100,215.3100],[197.1800,204.2900,192.7700,208.8400],[189.0000,187.7100,182.8500,192.4700],[178.9700,183.5200,177.8100,188.0000],[175.0700,178.9200,174.9900,180.5900],[190.1500,175.6000,170.2700,191.9200],[192.7400,191.8100,190.3000,196.7900],[198.7800,192.9000,192.1700,200.8500],[197.9200,198.5400,195.2900,201.5700],[204.2300,203.1700,200.6500,205.0800],[203.3000,200.8100,198.4100,204.3900],[202.5900,204.0900,202.3600,206.5000],[207.7400,203.6500,203.6100,209.7300],[204.0200,208.4600,201.6300,221.3700],[200.9900,197.9900,192.5800,203.5300],[206.5000,199.6200,199.1500,212.1400],[202.6400,210.6200,201.0000,214.4400],[208.7400,205.8600,203.3200,210.4500],[213.2600,206.4300,204.2200,214.4200],[218.7500,214.8400,211.0700,226.4200],[217.7300,217.7300,217.4700,223.7600],[218.8200,218.9500,217.1400,222.4900],[227.0100,220.9000,215.1300,228.2200],[236.2100,226.2700,224.3300,237.6400],[236.4100,234.9000,233.2000,238.1300],[246.5800,237.5200,237.3200,246.7300],[255.8200,247.4200,237.2600,255.9300],[260.1400,257.3300,255.3700,260.4400],[265.7600,258.3000,258.2800,265.7800],[261.7800,265.8000,260.4000,268.0000],[267.2500,262.7100,262.5000,268.0000],[270.7100,267.2700,256.2900,271.0000],[275.1500,270.0000,264.9100,275.3000],[279.4400,277.0000,276.9800,282.6500],[289.8000,280.5300,280.3700,293.9700],[297.4300,289.4600,285.2200,300.6000],[310.3300,293.7900,292.7500,312.6700],[318.7300,311.6400,309.5500,318.7400],[318.3100,317.1900,315.6500,323.3300],[309.5100,310.0600,304.8800,327.8500],[320.0300,304.3000,302.2200,325.2200],[324.9500,314.1800,313.8500,327.2200],[313.0500,315.3600,310.5000,324.6500],[273.3600,297.2600,256.3700,304.1800],[289.0300,282.2800,277.7200,304.0000],[277.9700,263.7500,248.0000,286.4400],[229.2400,241.9500,228.0000,259.0800],[247.7400,228.0800,212.6100,258.6800],[241.4100,250.7400,236.9000,262.4900],[267.9900,250.9000,249.3800,271.7000],[282.8000,268.3100,265.8300,288.2500],[282.9700,277.9500,265.4300,283.0100],[289.0700,281.8000,278.2000,299.0000],[310.1300,289.1700,286.3200,310.3500],[307.7100,308.1000,300.2100,319.6900],[318.8900,313.1700,310.3200,320.8900],[317.9400,323.5000,313.0900,324.2400],[331.5000,317.7500,317.2100,331.7500],[338.8000,330.2500,327.3200,354.7700],[349.7200,333.2500,332.5800,356.5600],[353.6300,351.3400,351.1500,372.3800],[364.1100,353.2500,351.2800,370.4700],[383.6800,370.0000,369.8700,385.2700],[385.3100,389.0600,375.5100,399.8200],[370.4600,385.6700,356.5800,397.0000],[425.0400,374.8400,372.9900,425.6600],[444.4500,432.8000,431.5700,457.6500],[459.6300,450.4000,436.4267,464.1700],[497.4800,464.2500,455.8501,499.4720],[499.2300,514.7900,492.2100,515.1400],[120.9600,127.5800,110.8900,137.9800],[112.0000,113.9500,110.0000,120.5000],[106.8400,114.7200,106.0900,118.8290],[112.2800,104.5400,103.1000,112.8600],[113.0200,115.0100,112.2200,117.7200],[116.9700,113.9100,112.2500,117.0000],[119.0200,120.0600,118.1500,125.3900],[115.0400,119.9600,114.2800,120.4190],[108.8600,114.0100,107.7200,117.2800],[118.6900,109.1100,107.3200,119.6200],[119.2600,120.5000,114.1300,121.9900],[117.3400,118.9200,116.8100,120.9900],[116.5900,117.1800,112.5900,117.6202],[122.2500,116.9700,116.8100,123.7800],[122.4100,122.3100,120.1500,125.9500],[126.6550,122.6000,121.5400,129.5800],[131.9700,125.0200,123.4490,134.4050],[132.6900,133.9900,131.7200,138.7890],[132.0500,133.5200,126.3820,133.6116],[127.1400,129.1900,126.8600,131.4500],[139.0700,127.7800,126.9380,139.8500],[131.9600,143.0700,130.2100,145.0900],[136.7600,133.7500,130.9300,137.4200],[135.3700,136.0300,133.6921,137.8770],[129.8700,135.4900,127.4100,136.0100],[121.2600,128.0100,118.3900,129.7200],[121.4200,123.7500,117.5700,128.7200],[121.0300,120.9300,116.2100,123.2100],[119.9900,121.4100,119.6750,127.2200],[121.2100,120.3300,118.9200,124.2400],[123.0000,121.6500,118.8600,124.1800],[132.9950,123.8700,123.0700,133.0400],[134.1600,132.5200,130.6300,135.0000],[134.3200,133.5100,131.3001,135.5300],[131.4600,134.8300,131.0650,137.0700],[130.2100,132.0400,126.7000,134.0700],[127.4500,129.4100,122.2500,129.5400],[125.4300,126.8200,122.8600,128.0000],[124.6100,126.0100,124.5500,128.3200],[125.8900,125.0800,123.1300,126.1600],[127.3500,126.1700,124.8321,128.4600],[130.4600,127.8200,127.0700,132.5500],[133.1100,130.3000,129.2100,134.6400],[139.9600,133.4100,133.3500,140.0000],[145.1100,140.0700,140.0700,145.6500],[146.3900,146.2100,143.6300,150.0000],[148.5600,143.7500,141.6700,148.7177],[145.8600,148.2700,142.5400,149.8300],[146.1400,146.3600,145.1800,148.0450],[149.1000,146.2000,145.3000,149.4444],[148.1900,148.5350,144.5000,151.6800],[148.6000,148.3100,146.8300,150.8600],[154.3000,149.0000,148.6100,154.9800],[148.9700,154.9700,148.7000,157.2600],[146.0600,150.6300,145.7600,151.4200],[146.9200,143.8000,141.2700,147.4701],[142.6500,145.4700,139.1101,145.9600],[142.9000,141.7600,138.2700,144.2150],[144.8400,142.2700,139.2000,144.8950],[148.6900,143.4450,143.1600,150.1800],[149.8000,148.6800,146.4128,153.1650],[151.2800,148.9850,147.8000,152.4300],[149.9900,151.4100,147.4800,151.5700],[160.5500,150.3700,149.3400,161.0200],[156.8100,161.6800,156.3600,165.7000],[161.8400,159.3700,157.8000,170.3000],[179.4500,164.2900,164.2800,179.6300],[171.1400,181.1150,169.6900,182.1300],[176.2800,168.2800,167.4600,176.8499],[177.5700,177.0850,177.0700,181.3300],[172.1700,177.8300,171.0300,182.9400],[173.0700,169.0800,168.1700,177.1800],[162.4100,171.5100,162.3000,172.5400],[170.3300,160.0200,154.7000,170.3500],[172.3900,170.1600,169.5100,176.2399],[168.6400,172.8600,168.0400,176.6500],[167.3000,167.3700,166.1900,173.3400],[164.8500,164.9800,152.0000,166.6900],[163.1700,163.0600,161.9700,168.9100],[154.7300,163.3600,154.5000,165.0200],[163.9800,151.4500,150.1000,164.4800],[174.7200,163.5100,163.0150,175.2800],[174.3100,172.1700,171.9400,179.6100],[170.0900,174.5700,169.2000,178.4900],[165.2900,168.7100,165.0400,171.2700],[161.7900,163.9200,161.5000,171.5300],[157.6500,161.1200,155.3800,166.2000],[157.2800,156.7100,153.2700,166.4800],[147.1100,154.9250,138.8000,156.7400],[137.5900,145.5500,132.6100,149.7700],[149.6400,137.7900,137.1400,149.6800],[145.3800,149.0700,144.4600,151.7400],[137.1300,147.0300,137.0600,149.8697],[131.5600,132.8700,129.0400,137.3400],[141.6600,133.4200,133.3200,141.9100],[138.9300,142.6950,133.7737,143.4900],[147.0400,137.7700,136.9300,147.5500],[150.1700,145.6700,142.1201,150.8600],[154.0900,150.7400,146.7000,156.2800],[162.5100,154.0100,150.8000,163.6300],[165.3500,161.0100,159.6300,167.1900],[172.1000,166.3700,163.2500,172.1700],[171.5200,171.5200,171.3101,176.1500],[163.6200,169.6900,163.5600,171.0500],[155.8100,161.1450,154.6700,162.9000],[157.3700,156.4700,152.6800,157.8200],[150.7000,159.5900,148.3700,164.2600],[150.4300,149.3100,148.5600,158.7400],[138.2000,149.6600,138.0000,154.7200],[140.0900,138.2100,137.6850,147.5400],[138.3800,140.4200,134.3700,144.5200],[147.2700,141.0650,140.2700,147.8479],[155.7400,147.1850,144.1300,157.5000],[138.3800,153.1550,134.3800,155.4500],[149.7000,137.1100,134.5933,150.0100],[151.2900,148.9700,146.1500,153.5900],[148.1100,150.1600,146.9250,151.8300],[147.8100,145.1400,140.3550,149.1300],[142.1600,147.7700,140.0000,150.9199],[134.5100,142.7000,133.7300,149.9692],[131.8600,135.1100,129.6400,136.8100],[129.9300,131.3800,125.8700,131.4100],[129.6200,130.2800,124.1700,130.9000],[134.7600,130.4650,128.1200,134.9200],[137.8700,134.8300,133.7700,138.6100],[145.9300,138.1200,137.9000,147.2300],[154.5000,144.9550,141.3200,157.3800],[151.0100,152.5750,149.2200,155.2300],[152.5500,150.9520,150.8500,156.3300],[146.7100,150.2000,145.7202,151.3000],[151.0300,147.7100,143.9000,151.1100],[148.5000,153.7850,147.6096,156.3000],[155.0000,147.8050,147.7000,156.7400],[160.2500,155.0700,154.1500,162.1400],[164.9000,159.9400,155.9800,165.0000],[164.6600,164.2700,161.8000,166.8400],[165.2100,161.4200,159.7800,166.3200],[165.0200,165.0900,164.0300,168.1600],[169.6800,165.0000,162.8000,169.8500],[173.5700,169.2800,164.3100,174.3000],[172.5700,172.4800,171.0000,174.5900],[175.1600,173.1600,170.4201,176.3900],[175.4300,173.9800,170.5200,175.7700],[180.9500,176.9600,176.5700,181.7800],[180.9600,182.6300,177.3200,184.9510],[184.9200,181.2700,180.9700,186.9900],[186.6800,184.4100,182.5901,187.5600],[193.9700,186.8300,185.2300,194.4800],[190.6800,193.7800,189.2000,193.8800],[190.6900,189.2600,186.6000,191.7000],[191.9400,191.9000,191.2300,198.2300],[195.8300,193.4100,192.2500,197.2000],[181.9900,196.0600,181.9200,196.7300],[177.7900,182.1300,176.5500,183.1300],[174.4900,177.9700,171.9600,179.6900],[178.6100,175.0700,173.7350,181.5500],[189.4600,180.0900,178.5450,189.9200],[178.1800,188.2800,173.5400,189.9800],[175.0100,180.0700,173.5800,180.3000],[174.7900,176.4800,173.8600,179.6950],[171.2100,174.2000,167.6200,176.9700],[177.4900,171.2200,170.8200,177.9900],[178.8500,176.8100,175.8000,182.3400],[172.8800,176.7500,172.6400,179.0750],[168.2200,170.9100,165.6700,174.0100],[176.6500,169.0200,167.9000,177.7800],[186.4000,176.3800,176.2100,186.5650],[189.6900,185.8200,184.2100,190.9600],[189.9700,189.8900,189.2500,192.9300],[191.2400,189.9200,188.1900,192.0900],[195.7100,189.9800,187.4511,195.9900],[197.5700,193.1100,191.4200,199.6200],[193.6000,196.0900,192.9700,197.6800],[192.5300,193.6100,191.0900,194.6600],[181.1800,187.1500,180.1700,188.4400],[185.9200,182.0850,181.5000,187.0500],[191.5600,182.1600,180.3000,191.9500],[192.4200,192.3000,191.9400,196.3800],[185.8500,192.0100,179.2500,192.2000],[188.8500,188.1500,185.8400,191.0500],[182.3100,188.4150,181.3500,188.6700],[182.5200,181.7900,180.0000,185.0400],[179.6600,182.2400,177.3800,183.9225],[170.7300,176.1500,168.4900,176.9000],[172.6200,172.9400,170.2850,174.3800],[172.2800,175.5700,170.0600,178.6700],[171.4800,170.5650,169.4500,173.6000],[169.5800,171.1900,168.2302,171.9200],[176.5500,169.0300,167.1100,178.3600],[165.0000,175.3600,164.0750,176.6300],[169.3000,165.5150,164.7700,171.3400],[183.3800,173.3700,169.1100,187.0000],[183.0500,182.3540,180.4200,185.0900],[189.8700,185.4350,184.6200,191.0950],[189.9800,189.3250,186.6250,192.8231],[192.2500,191.5100,189.1000,193.0000],[196.8900,192.9000,192.5200,196.9400],[212.4900,196.9000,192.1500,220.2000],[207.4900,213.3700,207.1100,218.9500],[210.6200,207.7200,206.5900,216.0700],[226.3400,212.0900,211.9200,226.4500],[230.5400,227.0900,223.2500,233.0800],[224.3100,236.4800,222.2700,237.2300],[217.9600,227.0100,214.6200,227.7800],[219.8600,216.9600,215.7500,225.6000],[216.2400,199.0900,196.0000,216.7800],[226.0500,216.0700,215.6000,226.8271],[226.8400,225.7200,223.0400,228.3400],[229.0000,226.7600,223.8905,232.9200],[220.8200,228.5500,217.4800,229.0000],[222.5000,220.8200,216.7100,224.0400],[228.2000,216.5400,213.9200,233.0900],[227.7900,227.3400,224.0200,229.5200],[226.8000,230.0400,223.0200,233.0000],[227.5500,224.5000,221.3300,229.7500],[235.0000,228.7000,228.6000,237.4900],[231.4100,234.4500,227.7600,236.8500],[222.9100,233.3200,220.2700,234.7300],[226.9600,220.9900,219.7100,228.6600],[225.0000,225.0000,221.5000,228.8700],[229.8700,225.2500,225.1700,230.7199],[237.3300,231.4600,229.7400,237.8100],[242.8400,237.2700,237.1600,244.6300],[248.1300,241.8300,241.7500,250.8000],[254.4900,247.9900,245.6900,255.0000],[255.5900,254.7700,253.0600,260.1000],[243.3600,252.2300,241.8201,253.5000],[236.8500,244.3100,233.0000,247.3300],[229.9800,233.5300,228.0300,238.9600],[222.7800,224.0000,219.3800,227.0300],[236.0000,224.0200,223.9800,247.1900],[227.6300,229.9900,225.7000,234.0000],[244.6000,229.5700,227.2000,245.5500],[245.5500,244.1500,241.8400,248.6900],[241.8400,244.9250,230.2000,250.0000],[239.0700,241.7900,229.2300,244.0272],[213.4900,235.5400,208.4200,236.1600],[218.2700,213.3100,209.9700,218.8400],[217.9000,221.0000,217.6800,225.0200],[188.3800,217.0050,187.3400,225.6200],[198.1500,177.2000,169.2101,200.6100],[196.9800,211.4400,192.3700,212.9400],[209.2800,193.2650,189.8112,209.7500],[205.3500,210.0000,202.1600,214.5600],[198.5300,203.1000,193.2500,204.1000],[211.2600,210.9700,206.7500,213.9400],[195.2700,207.9100,193.4600,209.4800],[200.8500,198.3000,196.7800,203.8100],[203.9200,200.2800,200.1200,206.2400],[196.4500,204.3900,195.7000,206.0000],[201.0000,197.3000,195.0700,201.7000],[201.0800,201.6250,198.9600,203.6700],[213.5500,202.0100,199.2607,214.6500],[211.1600,212.6800,207.2200,216.2300],[211.1800,209.9250,207.5400,212.4000],[213.8800,212.1000,211.6300,215.7800],[202.3800,214.0300,201.5000,214.8450],[229.3500,204.5050,201.6750,231.0000],[231.5900,227.9200,224.7600,235.1200],[227.7600,231.7000,223.7804,233.1200],[232.1400,226.4800,224.6900,233.4100],[239.6900,229.2500,226.9700,241.3200],[234.0700,239.3000,225.9500,240.1500],[245.5000,237.0000,235.0300,246.3000],[255.4600,248.3000,248.1200,257.6000],[258.0200,254.5600,253.0100,259.2400],[245.2700,257.9900,244.0000,259.0700],[252.2900,249.3800,244.7000,253.3800],[262.2400,255.8850,255.6300,264.3750]]";
               
           }
           else
           {
               ApiDataIsNull = false;
               
               
               // Puts all data points in and corresponding dates in lists and reverses them (because they are in the wrong order)
               // Start
               List<TimeSeriesDataPoint> timeSeriesList = new List<TimeSeriesDataPoint>();
               List<string> dates = new List<string>();

               foreach (TimeSeriesDataPoint dataPoint in apiData.TimeSeries.Values)
               {
                   
                   double rawClose = double.Parse(dataPoint.Close);
        
                   // If AdjustedClose is null (e.g. API change), fallback to rawClose to prevent crash
                   double adjClose = dataPoint.AdjustedClose != null ? double.Parse(dataPoint.AdjustedClose) : rawClose;

                   // Calculating Multiplier
                   double ratio = adjClose / rawClose;
                   
                   double adjOpen = double.Parse(dataPoint.Open) * ratio;
                   double adjHigh = double.Parse(dataPoint.High) * ratio;
                   double adjLow = double.Parse(dataPoint.Low) * ratio;
                   
                   dataPoint.Open = adjOpen.ToString("F"); // Maybe add format like "F2"
                   dataPoint.High = adjHigh.ToString("F");
                   dataPoint.Low = adjLow.ToString("F");
                   dataPoint.Close = adjClose.ToString("F");

                   // 5. Add to list
                   timeSeriesList.Add(dataPoint);
               }

               foreach (string date in apiData.TimeSeries.Keys)
               {
                   dates.Add(date);

               }
               
               timeSeriesList.Reverse();
               dates.Reverse();
               // End
               
               
               // Code used to check whether the last datapoint is the correct interval away from the second to last one.
               // If not, then it is removed (data handling)
               // Start
               DateTime lastDateTime = ConvertDateTime(dates[^1]);
               DateTime pinultimateDateTime = ConvertDateTime(dates[^2]);
               
               if (lastDateTime.Subtract(pinultimateDateTime).Days != 7)
               {
                   dates.RemoveAt(dates.Count -1 );
                   timeSeriesList.RemoveAt(timeSeriesList.Count - 1);
                   
               }
               // End
               
               DateTime predictionDateTime = ConvertDateTime(dates[^1]);
               predictionDateTime = predictionDateTime.AddDays(7); 
               dates.Add($"{predictionDateTime.Year}-{predictionDateTime.Month}-{predictionDateTime.Day}");

               TimeSeriesDataPoint timeSeriesListPrediction = new TimeSeriesDataPoint("0", "0", "0", "0");
               // Predictions
               switch (prediction)
               {
                   case ("Naive"):
                      timeSeriesListPrediction = NaivePrediction(timeSeriesList);
                       break;
                   case ("MovingAverage"):
                       timeSeriesListPrediction = SimpleMovingAverage(timeSeriesList);
                       break;
                   case ("LinearRegression"):
                       timeSeriesListPrediction = LinearRegression(timeSeriesList);
                       break;
                   case ("MachineLearningRegression"):
                       timeSeriesListPrediction = MachineLearningRegression(timeSeriesList);
                       break;
                   case ("MachineLearningClassification"):
                       _logger.LogInformation(MachineLearningClassification(timeSeriesList));
                       break;
                   case ("EnsembleModel"):
                       timeSeriesListPrediction = EnsembleModel(timeSeriesList);
                       break;
               }
               
               timeSeriesList.Add(timeSeriesListPrediction);
               
               
               // Puts all datapoints and dates in one big string and formats them appropriately
               // Start (of formatting part)
               CandlesData = "[" + timeSeriesList[0].ToString();
               LabelsData = "[" + $"'{dates[0]}'";
               for (int i = 1; i < timeSeriesList.Count; i++)
               {
                   /*
                    Logs used for testing (useless):
                       _logger.LogInformation("DataPoint " + i);
                       _logger.LogInformation(timeSeriesList[i].ToString()); 
                       _logger.LogInformation("");
                   */
                
                   CandlesData = CandlesData + ", " + timeSeriesList[i];
                   LabelsData = LabelsData + ", " + $"'{dates[i]}'";

               }
               
               LabelsData = LabelsData + "]";
               CandlesData = CandlesData + "]";
               // End (of formatting part)
               
               
               
               /*
                The C# part of the program interacts with the .cshtml files as if the html and javascript in that file is
                one big string.

               Example (order is: close, open, low, high):
               CandlesData = "[[20, 34, 10, 38],[40, 35, 30, 50],[31, 38, 33, 44],[38, 15, 5, 42]]";
               LabelsData = "['2017-10-24', '2017-10-25', '2017-10-26', '2017-10-27']";
               */
            
               
           }
           
           
            
        }
        //the catch only works for errors in which the file could not be read
        catch (IOException e) 
        {
            _logger.LogInformation("The file could not be read:");
            _logger.LogInformation(e.Message);
        }
       
        
        
    }
    // Static means that you don't have to instantiate an object of the class that the method is from in order to use it. 
    // It works for any class.
    public static DateTime ConvertDateTime(string dateString)
    {
        int year = Convert.ToInt32(dateString.Substring(0, 4));
        int month = Convert.ToInt32(dateString.Substring(5, 2));
        int day = Convert.ToInt32(dateString.Substring(8, 2));
        DateTime dateTime = new DateTime(year, month, day );
                   
        return dateTime;
    }

    public static TimeSeriesDataPoint NaivePrediction(List<TimeSeriesDataPoint> timeSeriesList)
    {
        return timeSeriesList[^1];
    }

    public static TimeSeriesDataPoint SimpleMovingAverage(List<TimeSeriesDataPoint> timeSeriesList)
    {
        // Simple Moving Average: uses the last N closing prices to predict the next one
        double averageOpeningPrice = 0;
        double averageHighPrice = 0;
        double averageLowPrice = 0;
        double averageClosingPrice = 0;
        for (int i = timeSeriesList.Count - 5; i < timeSeriesList.Count; i++)
        {
            averageOpeningPrice += Convert.ToDouble(timeSeriesList[i].Open);
            averageHighPrice += Convert.ToDouble(timeSeriesList[i].High);
            averageLowPrice += Convert.ToDouble(timeSeriesList[i].Low);
            averageClosingPrice += Convert.ToDouble(timeSeriesList[i].Close);
        }

        averageOpeningPrice /= 5;
        averageHighPrice /= 5;
        averageLowPrice /= 5;
        averageClosingPrice /= 5;

        //Can use "F2" format to get number rounded to 2 decimal points.
        // "F" means fixed point format
        // "2" means rounded to 2 d.p.
        string averageOpeningPriceString = averageOpeningPrice.ToString();
        string averageHighPriceString = averageHighPrice.ToString();
        string averageLowPriceString = averageLowPrice.ToString();
        string averageClosingPriceString = averageClosingPrice.ToString();

        TimeSeriesDataPoint timeSeriesListPrediction = new TimeSeriesDataPoint(averageOpeningPriceString,
            averageHighPriceString, averageLowPriceString, averageClosingPriceString);
        
        return timeSeriesListPrediction;
    }

    public TimeSeriesDataPoint MachineLearningRegression(List<TimeSeriesDataPoint> timeSeriesList)
    { 
        //Create ML Context with seed for repeteable/deterministic results
       //By setting a seed, it means the randomness that's in it will be the same
       MLContext mlContext = new MLContext(seed: 0);
       
       // STEP 1: Common data loading configuration
       // Loading in the data that I am going to train the model with.
       // TODO: Going to transform the data in timeSeriesList to be a list of ModelInputs.

       ModelInputRegression modelInputRegressionItem = new ModelInputRegression();
       List<ModelInputRegression> modelInputRegressions = new List<ModelInputRegression>();

       for (int i = 0; i < timeSeriesList.Count - 6; i++)
       {
           // skip: skips the first i elements in the list
           // Take: takes the next five elements in the list
           // The first iteration, you skip the first 0 elements, and take the next 5 (the first five)
           var groupOfSix = timeSeriesList.Skip(i).Take(6).ToList();
           
           modelInputRegressionItem = new ModelInputRegression()
           { 
               
               Open0 = float.Parse(groupOfSix[0].Open), High0 = float.Parse(groupOfSix[0].High), Low0 = float.Parse(groupOfSix[0].Low), Close0 = float.Parse(groupOfSix[0].Close),   
               Open1 = float.Parse(groupOfSix[1].Open), High1 = float.Parse(groupOfSix[1].High), Low1 = float.Parse(groupOfSix[1].Low), Close1 = float.Parse(groupOfSix[1].Close),
               Open2 = float.Parse(groupOfSix[2].Open), High2 = float.Parse(groupOfSix[2].High), Low2 = float.Parse(groupOfSix[2].Low), Close2 = float.Parse(groupOfSix[2].Close),
               Open3 = float.Parse(groupOfSix[3].Open), High3 = float.Parse(groupOfSix[3].High), Low3 = float.Parse(groupOfSix[3].Low), Close3 = float.Parse(groupOfSix[3].Close),
               Open4 = float.Parse(groupOfSix[4].Open), High4 = float.Parse(groupOfSix[4].High), Low4 = float.Parse(groupOfSix[4].Low), Close4 = float.Parse(groupOfSix[4].Close),
                
               Label = float.Parse(groupOfSix[5].Close)
           };
           
           modelInputRegressions.Add(modelInputRegressionItem);
           
       }
       
       //changed from "timeSeriesList" to "modelInputRegressions"
       IDataView trainingDataView = mlContext.Data.LoadFromEnumerable(modelInputRegressions);
       
       // STEP 2: Common data process configuration with pipeline data transformations
       var dataProcessPipeline = mlContext.Transforms.Concatenate("Features", 
           "Open0", "High0", "Low0", "Close0", 
           "Open1", "High1", "Low1", "Close1", 
           "Open2", "High2", "Low2", "Close2", 
           "Open3", "High3", "Low3", "Close3", 
           "Open4", "High4", "Low4", "Close4");
       
       
       // STEP 3: Set the training algorithm, then create and config the modelBuilder - Selected Trainer (SDCA Regression algorithm)                            
       var trainer = mlContext.Regression.Trainers.Sdca(labelColumnName: "Label", featureColumnName: "Features");
       var trainingPipeline = dataProcessPipeline.Append(trainer);
       
       var trainedModel = trainingPipeline.Fit(trainingDataView);
       
       // Create prediction engine related to the loaded trained model
       var predEngine = mlContext.Model.CreatePredictionEngine<ModelInputRegression, ModelOutputRegression>(trainedModel);
       
       // This is going to contain last x datapoints
       // TODO get the last x datapoints
       List<TimeSeriesDataPoint> groupOfFive = timeSeriesList.Skip(timeSeriesList.Count - 6).Take(5).ToList();
       ModelInputRegression mostRecentModelInput = new ModelInputRegression()
       {
           Open0 = float.Parse(groupOfFive[0].Open), High0 = float.Parse(groupOfFive[0].High),
           Low0 = float.Parse(groupOfFive[0].Low), Close0 = float.Parse(groupOfFive[0].Close),
           Open1 = float.Parse(groupOfFive[1].Open), High1 = float.Parse(groupOfFive[1].High),
           Low1 = float.Parse(groupOfFive[1].Low), Close1 = float.Parse(groupOfFive[1].Close),
           Open2 = float.Parse(groupOfFive[2].Open), High2 = float.Parse(groupOfFive[2].High),
           Low2 = float.Parse(groupOfFive[2].Low), Close2 = float.Parse(groupOfFive[2].Close),
           Open3 = float.Parse(groupOfFive[3].Open), High3 = float.Parse(groupOfFive[3].High),
           Low3 = float.Parse(groupOfFive[3].Low), Close3 = float.Parse(groupOfFive[3].Close),
           Open4 = float.Parse(groupOfFive[4].Open), High4 = float.Parse(groupOfFive[4].High),
           Low4 = float.Parse(groupOfFive[4].Low), Close4 = float.Parse(groupOfFive[4].Close),
       };
       
        //Score
       var resultprediction = predEngine.Predict(mostRecentModelInput);

       string resultPredictionToString = resultprediction.ClosingPrice.ToString();
       
      var timeSeriesListPrediction = new TimeSeriesDataPoint(resultPredictionToString, resultPredictionToString, resultPredictionToString, resultPredictionToString);
      
      IDataView predictions = trainedModel.Transform(trainingDataView);
      RegressionMetrics metrics = mlContext.Regression.Evaluate(predictions, labelColumnName: "Label", scoreColumnName: "Score");

      
      _logger.LogInformation("Mean Absolute Error:");
      _logger.LogInformation(metrics.MeanAbsoluteError.ToString());

      _logger.LogInformation("Root Mean Squared Error:");
      _logger.LogInformation(metrics.RootMeanSquaredError.ToString());
      
       return timeSeriesListPrediction;
    }
    
    public String MachineLearningClassification(List<TimeSeriesDataPoint> timeSeriesList)
    {
        //Create ML Context with seed for repeteable/deterministic results
       //By setting a seed, it means the randomness that's in it will be the same
       MLContext mlContext = new MLContext(seed: 0);
       
       // STEP 1: Common data loading configuration
       // Loading in the data that I am going to train the model with.
       // TODO: Going to transform the data in timeSeriesList to be a list of ModelInputs.

       ModelInputClassification modelInputItem = new ModelInputClassification();
       List<ModelInputClassification> modelInputs = new List<ModelInputClassification>();

       for (int i = 0; i < timeSeriesList.Count - 6; i++)
       {
           // skip: skips the first i elements in the list
           // Take: takes the next five elements in the list
           // The first iteration, you skip the first 0 elements, and take the next 5 (the first five)
           var groupOfSix = timeSeriesList.Skip(i).Take(6).ToList();

           string trend;
           
           if (float.Parse(groupOfSix[4].Close) < float.Parse(groupOfSix[5].Close))
           {
               trend = "Up";
           }
           else if (float.Parse(groupOfSix[4].Close) > float.Parse(groupOfSix[5].Close))
           { 
               trend = "down";
           }
           else
           { 
               trend = "neutral";
           }
           
           
           modelInputItem = new ModelInputClassification()
           { 
               
               Open0 = float.Parse(groupOfSix[0].Open), High0 = float.Parse(groupOfSix[0].High), Low0 = float.Parse(groupOfSix[0].Low), Close0 = float.Parse(groupOfSix[0].Close),   
               Open1 = float.Parse(groupOfSix[1].Open), High1 = float.Parse(groupOfSix[1].High), Low1 = float.Parse(groupOfSix[1].Low), Close1 = float.Parse(groupOfSix[1].Close),
               Open2 = float.Parse(groupOfSix[2].Open), High2 = float.Parse(groupOfSix[2].High), Low2 = float.Parse(groupOfSix[2].Low), Close2 = float.Parse(groupOfSix[2].Close),
               Open3 = float.Parse(groupOfSix[3].Open), High3 = float.Parse(groupOfSix[3].High), Low3 = float.Parse(groupOfSix[3].Low), Close3 = float.Parse(groupOfSix[3].Close),
               Open4 = float.Parse(groupOfSix[4].Open), High4 = float.Parse(groupOfSix[4].High), Low4 = float.Parse(groupOfSix[4].Low), Close4 = float.Parse(groupOfSix[4].Close),
                
               Label = trend
           };
           
           modelInputs.Add(modelInputItem);
           
       }
       
       //changed from "timeSeriesList" to "modelInputs"
       IDataView trainingDataView = mlContext.Data.LoadFromEnumerable(modelInputs);
       
       // STEP 2: Common data process configuration with pipeline data transformations
       var dataProcessPipeline = mlContext.Transforms.Concatenate("Features", 
           "Open0", "High0", "Low0", "Close0", 
           "Open1", "High1", "Low1", "Close1", 
           "Open2", "High2", "Low2", "Close2", 
           "Open3", "High3", "Low3", "Close3", 
           "Open4", "High4", "Low4", "Close4")
           .Append(mlContext.Transforms.NormalizeMinMax("Features")) //Extra thing I added (normalises data)
           .Append(mlContext.Transforms.Conversion.MapValueToKey("Label"));
       
       
       // STEP 3: Set the training algorithm, then create and config the modelBuilder - Selected Trainer (SDCA Classification algorithm)
       // Sdca maximum entropy gives the probabilities of each trend happening, as well as giving the prediction.
       var trainer = mlContext.MulticlassClassification.Trainers.SdcaMaximumEntropy(labelColumnName: "Label", featureColumnName: "Features");
       var trainingPipeline = dataProcessPipeline
           .Append(trainer)
           .Append(mlContext.Transforms.Conversion.MapKeyToValue("PredictedLabel"));
       
       var trainedModel = trainingPipeline.Fit(trainingDataView);
       
       // Create prediction engine related to the loaded trained model
       var predEngine = mlContext.Model.CreatePredictionEngine<ModelInputClassification, ModelOutputClassification>(trainedModel);
       
       // This is going to contain last x datapoints
       // TODO get the last x datapoints
       List<TimeSeriesDataPoint> groupOfFive = timeSeriesList.Skip(timeSeriesList.Count - 6).Take(5).ToList();
       ModelInputClassification mostRecentModelInput = new ModelInputClassification()
       {
           Open0 = float.Parse(groupOfFive[0].Open), High0 = float.Parse(groupOfFive[0].High),
           Low0 = float.Parse(groupOfFive[0].Low), Close0 = float.Parse(groupOfFive[0].Close),
           Open1 = float.Parse(groupOfFive[1].Open), High1 = float.Parse(groupOfFive[1].High),
           Low1 = float.Parse(groupOfFive[1].Low), Close1 = float.Parse(groupOfFive[1].Close),
           Open2 = float.Parse(groupOfFive[2].Open), High2 = float.Parse(groupOfFive[2].High),
           Low2 = float.Parse(groupOfFive[2].Low), Close2 = float.Parse(groupOfFive[2].Close),
           Open3 = float.Parse(groupOfFive[3].Open), High3 = float.Parse(groupOfFive[3].High),
           Low3 = float.Parse(groupOfFive[3].Low), Close3 = float.Parse(groupOfFive[3].Close),
           Open4 = float.Parse(groupOfFive[4].Open), High4 = float.Parse(groupOfFive[4].High),
           Low4 = float.Parse(groupOfFive[4].Low), Close4 = float.Parse(groupOfFive[4].Close),
       };
       
        //Score
       var resultprediction = predEngine.Predict(mostRecentModelInput);

       string resultPredictionToString = resultprediction.PredictedLabel;

       ClassificationLabel = resultprediction.PredictedLabel;
       
       ClassificationScores = new []
       {
           (resultprediction.Score[0] * 100).ToString(),
           (resultprediction.Score[1] * 100).ToString(),
           (resultprediction.Score[2] * 100).ToString()
       };
       
       
       return resultPredictionToString;
    }
    
     
    
    public static TimeSeriesDataPoint LinearRegression(List<TimeSeriesDataPoint> timeSeriesList)
    {
       
            // Number of datapoints used for the regression window
            int n = 5;

            // Calculate predictions for each component individually
            string predictedOpen  = CalculateRegressionPrediction(timeSeriesList, n, x => x.Open);
            string predictedHigh  = CalculateRegressionPrediction(timeSeriesList, n, x => x.High);
            string predictedLow   = CalculateRegressionPrediction(timeSeriesList, n, x => x.Low);
            string predictedClose = CalculateRegressionPrediction(timeSeriesList, n, x => x.Close);

            // Return the new data point with all 4 predicted values
            return new TimeSeriesDataPoint(predictedOpen, predictedHigh, predictedLow, predictedClose);
            
    }
    
    private static string CalculateRegressionPrediction(List<TimeSeriesDataPoint> data, int n, Func<TimeSeriesDataPoint, string> priceSelector)
    {
        double S_x = 0;
        double S_y = 0;
        double S_xy = 0;
        double S_xx = 0;

        for (int i = 0; i < n; i++)
        {
            double Xi = i;
        
            
            // InvariantCulture is used to ensure dots/commas don't cause crashes depending on server settings (I don't quite get it)
            double Yi = double.Parse(priceSelector(data[^(n - i)]), System.Globalization.CultureInfo.InvariantCulture);

            S_x += Xi;
            S_y += Yi;
            S_xy += Xi * Yi;
            S_xx += Xi * Xi;
        }

        double m = (n * S_xy - S_x * S_y) / (n * S_xx - S_x * S_x);
        double c = (S_y - m * S_x) / n;

        double predictedValue = m * n + c;

        return predictedValue.ToString(System.Globalization.CultureInfo.InvariantCulture);
    }
    
    public TimeSeriesDataPoint EnsembleModel(List<TimeSeriesDataPoint> timeSeriesList)
    {
        TimeSeriesDataPoint naive = NaivePrediction(timeSeriesList);
        TimeSeriesDataPoint sma = SimpleMovingAverage(timeSeriesList);
        TimeSeriesDataPoint linReg = LinearRegression(timeSeriesList);
        TimeSeriesDataPoint mlReg = MachineLearningRegression(timeSeriesList);

        
        double sumOpen = 0;
        double sumHigh = 0;
        double sumLow = 0;
        double sumClose = 0;
    
        
        // InvariantCulture is used to ensure dots/commas don't cause crashes depending on server settings (I don't quite get it)
        var culture = System.Globalization.CultureInfo.InvariantCulture;

        
        var results = new List<TimeSeriesDataPoint> { naive, sma, linReg, mlReg };

        foreach (var result in results)
        {
            sumOpen  += double.Parse(result.Open, culture);
            sumHigh  += double.Parse(result.High, culture);
            sumLow   += double.Parse(result.Low, culture);
            sumClose += double.Parse(result.Close, culture);
        }

        
        double count = results.Count; // 4
    
        double avgOpen = sumOpen / count;
        double avgHigh = sumHigh / count;
        double avgLow  = sumLow / count;
        double avgClose = sumClose / count;

        
        return new TimeSeriesDataPoint(
            avgOpen.ToString(culture), 
            avgHigh.ToString(culture), 
            avgLow.ToString(culture), 
            avgClose.ToString(culture)
        );
    }
    
    
// [MermaidChart: 310c4a52-7937-46ac-8fc5-129d93f13350]
    
    
}